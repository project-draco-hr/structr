{
  AndroidHttpClient httpClient=getHttpClient();
  HttpPut httpPut=new HttpPut(path);
  HttpResponse response=null;
  Throwable throwable=null;
  int responseCode=0;
  try {
    StringBuilder buf=new StringBuilder();
    gson.toJson(entity,type,buf);
    StringEntity body=new StringEntity(buf.toString());
    body.setContentType("application/json");
    httpPut.setEntity(body);
    configureRequest(httpPut);
    response=httpClient.execute(httpPut);
    responseCode=response.getStatusLine().getStatusCode();
  }
 catch (  Throwable t) {
    throwable=t;
    httpPut.abort();
  }
 finally {
    if (response != null) {
      response.getEntity().consumeContent();
    }
  }
  if (throwable != null) {
    throw throwable;
  }
  return responseCode;
}
