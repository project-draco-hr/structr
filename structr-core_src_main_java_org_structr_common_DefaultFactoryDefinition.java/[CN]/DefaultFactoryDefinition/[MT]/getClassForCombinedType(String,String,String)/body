{
  if (sourceType == null || relType == null || targetType == null) {
    return null;
  }
  logger.log(Level.FINE,"Need class for relationship {0}-[:{1}]->{2}",new Object[]{sourceType,relType,targetType});
  for (  final Class candidate : getModuleService().getCachedRelationshipEntities().values()) {
    logger.log(Level.FINEST,"Relation class candidate: {0}",candidate.getName());
    final Relation rel=instantiate(candidate);
    if (rel != null) {
      final String sourceTypeName=rel.getSourceType().getSimpleName();
      final String relTypeName=rel.name();
      final String targetTypeName=rel.getTargetType().getSimpleName();
      logger.log(Level.FINE,"Checking relationship {0}-[:{1}]->{2}",new Object[]{sourceTypeName,relTypeName,targetTypeName});
      if (sourceType.equals(sourceTypeName) && relType.equals(relTypeName) && targetType.equals(targetTypeName)) {
        logger.log(Level.INFO,"--> Found matching relation class: {0}",candidate.getName());
        return candidate;
      }
    }
  }
  return null;
}
