{
  final CreateNodeCommand<T> command=command(CreateNodeCommand.class);
  final PropertyMap properties=new PropertyMap(source);
  if (type != null && !type.isInterface()) {
    properties.put(AbstractNode.type,type.getSimpleName());
  }
 else   if (!(properties.containsKey(AbstractNode.type))) {
    throw new FrameworkException(422,"Invalid interface type " + type.getSimpleName() + ", please supply a non-interface class name in the type property");
  }
  return command.execute(properties);
}
