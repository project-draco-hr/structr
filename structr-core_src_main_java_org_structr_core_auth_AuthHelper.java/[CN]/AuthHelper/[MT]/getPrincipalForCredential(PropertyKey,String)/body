{
  SecurityContext securityContext=SecurityContext.getSuperUserInstance();
  Principal principal=null;
  Result result=Result.EMPTY_RESULT;
  try {
    result=Services.command(securityContext,SearchNodeCommand.class).execute(Search.andExactTypeAndSubtypes(Principal.class),Search.andExactProperty(securityContext,key,value));
  }
 catch (  FrameworkException ex) {
    logger.log(Level.WARNING,"Error while searching for principal",ex);
  }
  if (!result.isEmpty()) {
    principal=(Principal)result.get(0);
  }
  return principal;
}
