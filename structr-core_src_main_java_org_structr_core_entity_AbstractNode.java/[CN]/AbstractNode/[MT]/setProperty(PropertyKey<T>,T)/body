{
  try {
    if (!isGranted(Permission.write,securityContext)) {
      throw new FrameworkException(403,"Modification not permitted.");
    }
    T oldValue=getProperty(key);
    if (((oldValue == null) && (value != null)) || ((oldValue != null) && !oldValue.equals(value))) {
      return setPropertyInternal(key,value);
    }
  }
  finally {
    this.readOnlyPropertiesUnlocked=false;
  }
  return null;
}
