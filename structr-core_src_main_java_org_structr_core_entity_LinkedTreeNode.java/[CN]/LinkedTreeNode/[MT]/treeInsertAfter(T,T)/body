{
  final App app=StructrApp.getInstance(securityContext);
  app.beginTx();
  List<R> rels=treeGetChildRelationships();
  int position=0;
  for (  R rel : rels) {
    T node=rel.getTargetNode();
    rel.setProperty(positionProperty,position);
    position++;
    if (node.equals(refChild)) {
      PropertyMap properties=new PropertyMap();
      properties.put(positionProperty,position);
      linkNodes(getChildLinkType(),(T)LinkedTreeNode.this,newChild,properties);
      position++;
    }
  }
  LinkedTreeNode.super.listInsertAfter(refChild,newChild);
  app.commitTx();
}
