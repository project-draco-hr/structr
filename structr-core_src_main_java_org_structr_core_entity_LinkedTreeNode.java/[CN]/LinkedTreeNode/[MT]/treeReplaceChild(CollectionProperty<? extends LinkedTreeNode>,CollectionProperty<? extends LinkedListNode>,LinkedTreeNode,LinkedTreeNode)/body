{
  Services.command(securityContext,TransactionCommand.class).execute(new StructrTransaction(){
    @Override public Object execute() throws FrameworkException {
      int oldPosition=treeGetChildPosition(treeProperty,oldChild);
      treeProperty.removeRelationship(securityContext,LinkedTreeNode.this,oldChild);
      PropertyMap properties=new PropertyMap();
      properties.put(positionProperty,oldPosition);
      treeProperty.createRelationship(securityContext,LinkedTreeNode.this,newChild,properties);
      LinkedTreeNode.super.listInsertBefore(listProperty,oldChild,newChild);
      LinkedTreeNode.super.listRemove(listProperty,oldChild);
      return null;
    }
  }
);
}
