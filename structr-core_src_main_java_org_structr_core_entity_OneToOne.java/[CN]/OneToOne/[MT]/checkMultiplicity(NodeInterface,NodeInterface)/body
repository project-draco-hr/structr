{
  final Class<? extends OneToOne> clazz=getClass();
  final Class<S> sourceType=getSourceType();
  final Class<T> targetType=getTargetType();
  final Relation<S,?,?,?> outgoingRel=sourceNode.getOutgoingRelationship(clazz);
  final Relation<?,T,?,?> incomingRel=targetNode.getIncomingRelationship(clazz);
  boolean error=false;
  error|=(outgoingRel != null && outgoingRel.getTargetNode().getClass().equals(targetType));
  error|=(incomingRel != null && incomingRel.getSourceNode().getClass().equals(sourceType));
  if (error) {
    final String msg=targetType.getSimpleName() + " can only have exactly one " + sourceType.getSimpleName();
    throw new FrameworkException(clazz.getSimpleName(),new CardinalityToken(msg));
  }
}
