{
  String relatedType=getRelatedType(this,propertyNameToCheck);
  if (relatedType == null) {
    try {
      final SchemaNode parentSchemaNode=StructrApp.getInstance().nodeQuery(SchemaNode.class).andName(StringUtils.substringAfterLast(getProperty(SchemaNode.extendsClass),".")).getFirst();
      relatedType=getRelatedType(parentSchemaNode,propertyNameToCheck);
    }
 catch (    FrameworkException ex) {
      logger.log(Level.WARNING,"Can't find schema node for parent class!",ex);
    }
  }
  if (relatedType != null) {
    return relatedType;
  }
  final PropertyKey key=StructrApp.getConfiguration().getPropertyKeyForJSONName(NodeInterface.class,propertyNameToCheck,false);
  if (key != null) {
    final Class relatedTypeClass=key.relatedType();
    if (relatedTypeClass != null) {
      return relatedTypeClass.getSimpleName();
    }
  }
  return null;
}
