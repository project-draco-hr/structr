{
  try {
    double t0=System.nanoTime();
    ZipOutputStream zos=new ZipOutputStream(new FileOutputStream(fileName));
    PrintWriter writer=new PrintWriter(new BufferedWriter(new OutputStreamWriter(zos)));
    zos.setLevel(6);
    exportDirectory(zos,new File("files"),"");
    exportDatabase(zos,writer);
    zos.finish();
    writer.close();
    double t1=System.nanoTime();
    double time=((t1 - t0) / 1000000000.0);
  }
 catch (  Throwable t) {
    t.printStackTrace();
    throw new FrameworkException(500,t.getMessage());
  }
}
