{
  int modifiers=type.getModifiers();
  if (!Modifier.isAbstract(modifiers) && !Modifier.isInterface(modifiers)) {
    try {
      Object entity=type.newInstance();
      Map<Field,PropertyKey> allProperties=getFieldValuesOfType(PropertyKey.class,entity);
      Map<Field,View> views=getFieldValuesOfType(View.class,entity);
      Class entityType=entity.getClass();
      for (      Map.Entry<Field,PropertyKey> entry : allProperties.entrySet()) {
        PropertyKey propertyKey=entry.getValue();
        Field field=entry.getKey();
        Class declaringClass=field.getDeclaringClass();
        if (declaringClass != null) {
          propertyKey.setDeclaringClass(declaringClass);
          registerProperty(declaringClass,propertyKey);
        }
        registerProperty(entityType,propertyKey);
      }
      for (      Map.Entry<Field,View> entry : views.entrySet()) {
        Field field=entry.getKey();
        View view=entry.getValue();
        for (        PropertyKey propertyKey : view.properties()) {
          registerPropertySet(field.getDeclaringClass(),view.name(),propertyKey);
          registerPropertySet(entityType,view.name(),propertyKey);
        }
      }
    }
 catch (    Throwable t) {
      logger.log(Level.WARNING,"Unable to instantiate {0}: {1}",new Object[]{type,t.getMessage()});
    }
  }
  Set<Method> typeMethods=exportedMethodMap.get(type);
  if (typeMethods == null) {
    typeMethods=new LinkedHashSet<>();
    exportedMethodMap.put(type,typeMethods);
  }
  typeMethods.addAll(getAnnotatedMethods(type,Export.class));
}
