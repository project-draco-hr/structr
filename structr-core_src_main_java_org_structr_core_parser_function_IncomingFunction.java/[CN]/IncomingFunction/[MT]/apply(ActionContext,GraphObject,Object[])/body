{
  if (arrayHasMinLengthAndAllElementsNotNull(sources,1)) {
    final RelationshipFactory factory=new RelationshipFactory(entity != null ? entity.getSecurityContext() : ctx.getSecurityContext());
    final Object source=sources[0];
    if (source instanceof NodeInterface) {
      final NodeInterface node=(NodeInterface)source;
      if (sources.length > 1) {
        final Object relType=sources[1];
        if (relType != null && relType instanceof String) {
          final String relTypeName=(String)relType;
          return factory.instantiate(node.getNode().getRelationships(Direction.INCOMING,DynamicRelationshipType.withName(relTypeName)));
        }
      }
 else {
        return factory.instantiate(node.getNode().getRelationships(Direction.INCOMING));
      }
    }
 else {
      return "Error: entity is not a node.";
    }
  }
  return "";
}
