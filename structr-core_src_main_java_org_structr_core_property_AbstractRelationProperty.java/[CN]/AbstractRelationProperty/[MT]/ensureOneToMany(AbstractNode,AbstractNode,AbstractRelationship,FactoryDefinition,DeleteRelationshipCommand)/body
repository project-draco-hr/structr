{
  Class newRelationshipClass=newRel.getClass();
  Class sourceType=finalSourceNode.getClass();
  List<AbstractRelationship> rels=finalTargetNode.getRelationships(getRelType(),Direction.INCOMING);
  for (  AbstractRelationship rel : rels) {
    if (rel.equals(newRel)) {
      continue;
    }
    Class relationshipClass=rel.getClass();
    boolean isGeneric=factoryDefinition.isGeneric(relationshipClass);
    if ((!isGeneric && newRelationshipClass.isAssignableFrom(relationshipClass)) || sourceType.isAssignableFrom(rel.getOtherNode(finalTargetNode).getClass())) {
      deleteRel.execute(rel);
    }
  }
}
