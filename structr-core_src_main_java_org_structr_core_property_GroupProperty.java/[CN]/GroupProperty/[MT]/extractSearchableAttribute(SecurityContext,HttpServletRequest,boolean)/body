{
  List<SearchAttribute> searchAttributes=new LinkedList<SearchAttribute>();
  for (  PropertyKey propertyKey : propertyKeys.values()) {
    if (propertyKey instanceof Property) {
      Property key=(Property)propertyKey;
      String searchValue=request.getParameter(key.dbName());
      if (searchValue != null) {
        if (looseSearch) {
          searchValue=removeQuotes(searchValue);
          searchAttributes.add(new PropertySearchAttribute(this,searchValue.toLowerCase(),Occur.MUST,false));
        }
 else {
          SearchAttribute attr=key.determineSearchType(securityContext,key,searchValue);
          if (attr != null) {
            searchAttributes.add(attr);
          }
        }
      }
    }
  }
  return searchAttributes;
}
