{
  if (value instanceof Collection) {
    return new StructrArray(scope,key,wrapCollection(scope,key,(Collection)value));
  }
  if (value instanceof GraphObject) {
    return new GraphObjectWrapper(scope,(GraphObject)value);
  }
  if (value instanceof HttpServletRequest) {
    return new HttpServletRequestWrapper((HttpServletRequest)value);
  }
  if (value != null && value.getClass().isEnum()) {
    return ((Enum)value).name();
  }
  return value;
}
