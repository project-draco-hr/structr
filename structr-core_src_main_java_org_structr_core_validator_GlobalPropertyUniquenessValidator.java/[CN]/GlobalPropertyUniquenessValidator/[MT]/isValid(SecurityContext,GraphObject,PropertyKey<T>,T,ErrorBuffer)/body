{
  if (value == null) {
    errorBuffer.add(new EmptyPropertyToken(object.getType(),key));
    return false;
  }
  if (key != null && value != null) {
    String id=null;
    List<AbstractNode> result=null;
    boolean nodeExists=false;
    try {
      result=StructrApp.getInstance().nodeQuery(AbstractNode.class).and(key,value).getAsList();
      nodeExists=!result.isEmpty();
    }
 catch (    FrameworkException fex) {
      Logger.getLogger(GlobalPropertyUniquenessValidator.class.getName()).log(Level.WARNING,"Unable to fetch list of nodes for uniqueness check",fex);
    }
    if (nodeExists) {
      for (      final AbstractNode foundNode : result) {
        if (foundNode.getId() != object.getId()) {
          id=foundNode.getUuid();
          errorBuffer.add(new UniqueToken(object.getType(),key,id));
          return false;
        }
      }
    }
  }
  return true;
}
