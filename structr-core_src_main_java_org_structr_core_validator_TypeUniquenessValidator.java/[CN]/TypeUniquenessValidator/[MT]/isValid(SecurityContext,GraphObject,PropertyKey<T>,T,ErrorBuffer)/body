{
  if (!type.isAssignableFrom(object.getClass())) {
    return true;
  }
  if (value == null) {
    errorBuffer.add(new EmptyPropertyToken(object.getType(),key));
    return false;
  }
  if (key != null) {
    Result<AbstractNode> result=null;
    boolean nodeExists=false;
    String id=null;
    try {
      result=StructrApp.getInstance().nodeQuery(type).and(key,value).getResult();
      nodeExists=!result.isEmpty();
    }
 catch (    FrameworkException fex) {
      fex.printStackTrace();
    }
    if (nodeExists) {
      AbstractNode foundNode=result.get(0);
      if (foundNode.getId() != object.getId()) {
        id=((AbstractNode)result.get(0)).getUuid();
        errorBuffer.add(new UniqueToken(object.getType(),key,id));
        return false;
      }
    }
  }
  return true;
}
