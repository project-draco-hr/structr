{
  if (sourceType == null || relType == null || targetType == null) {
    return null;
  }
  String combinedType=sourceType.concat(DefaultFactoryDefinition.COMBINED_RELATIONSHIP_KEY_SEP).concat(relType).concat(DefaultFactoryDefinition.COMBINED_RELATIONSHIP_KEY_SEP).concat(targetType);
  Class cachedRelationClass=getRelationClassForCombinedType(combinedType);
  if (cachedRelationClass != null) {
    return cachedRelationClass;
  }
  for (  final Class candidate : getRelationshipEntities().values()) {
    final Relation rel=instantiate(candidate);
    if (rel != null) {
      final String sourceTypeName=rel.getSourceType().getSimpleName();
      final String relTypeName=rel.name();
      final String targetTypeName=rel.getTargetType().getSimpleName();
      if (sourceType.equals(sourceTypeName) && relType.equals(relTypeName) && targetType.equals(targetTypeName)) {
        combinedType=getCombinedType(sourceType,relType,targetType);
        combinedTypeRelationClassCache.put(combinedType,candidate);
        return candidate;
      }
    }
  }
  return null;
}
