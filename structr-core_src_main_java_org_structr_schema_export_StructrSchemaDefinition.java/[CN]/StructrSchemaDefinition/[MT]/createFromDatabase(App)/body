{
  final List<SchemaNode> types=app.nodeQuery(SchemaNode.class).sort(AbstractNode.name).getAsList();
  final Map<String,StructrTypeDefinition> typeDefinitions=getTypeDefinitions();
  for (  final SchemaNode schemaNode : types) {
    final String name=schemaNode.getName();
    final StructrTypeDefinition type=new StructrSchemaNodeDefinition(this,"definitions/" + name);
    type.createFromDatabase(schemaNode);
    typeDefinitions.put(name,type);
  }
  final List<SchemaRelationshipNode> relationships=app.nodeQuery(SchemaRelationshipNode.class).sort(AbstractNode.name).getAsList();
  for (  final SchemaRelationshipNode schemaRelationship : relationships) {
    final String name=schemaRelationship.getName();
    final StructrTypeDefinition type=new StructrSchemaRelationshipDefinition(this,"definitions/" + name);
    type.createFromDatabase(schemaRelationship);
    typeDefinitions.put(name,type);
  }
}
