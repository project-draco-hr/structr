{
  if (propertySets == null) {
    propertySets=new THashMap<>();
  }
  getTypes();
  for (  final String type : types) {
    Set<String> propertySet=propertySets.get(type);
    if (propertySet == null) {
      propertySet=new LinkedHashSet<>();
      propertySets.put(type,propertySet);
      propertySet.addAll(properties.keySet());
    }
 else {
      propertySet.retainAll(properties.keySet());
    }
  }
}
