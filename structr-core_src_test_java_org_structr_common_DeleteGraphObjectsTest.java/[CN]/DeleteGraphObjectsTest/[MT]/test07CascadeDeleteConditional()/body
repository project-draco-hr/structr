{
  try {
    AbstractRelationship rel=cascadeRel(TestOne.class,TestTwo.class,Relation.CONSTRAINT_BASED);
    NodeInterface sourceNode;
    String startNodeId;
    String endNodeId;
    try (final TransactionCommand cmd=app.beginTx()){
      startNodeId=rel.getSourceNode().getUuid();
      endNodeId=rel.getTargetNode().getUuid();
      sourceNode=rel.getSourceNode();
    }
     deleteCascade(sourceNode);
    try (final TransactionCommand cmd=app.beginTx()){
      assertNodeNotFound(startNodeId);
      assertNodeNotFound(endNodeId);
    }
     rel=cascadeRel(TestOne.class,TestThree.class,Relation.CONSTRAINT_BASED);
    try (final TransactionCommand cmd=app.beginTx()){
      startNodeId=rel.getSourceNode().getUuid();
      endNodeId=rel.getTargetNode().getUuid();
      sourceNode=rel.getSourceNode();
    }
     deleteCascade(sourceNode);
    try (final TransactionCommand cmd=app.beginTx()){
      assertNodeNotFound(startNodeId);
      assertNodeExists(endNodeId);
    }
     rel=cascadeRel(TestOne.class,TestFour.class,Relation.CONSTRAINT_BASED);
    try (final TransactionCommand cmd=app.beginTx()){
      startNodeId=rel.getSourceNode().getUuid();
      endNodeId=rel.getTargetNode().getUuid();
      sourceNode=rel.getSourceNode();
    }
     deleteCascade(sourceNode);
    try (final TransactionCommand cmd=app.beginTx()){
      assertNodeNotFound(startNodeId);
      assertNodeExists(endNodeId);
    }
   }
 catch (  FrameworkException ex) {
    ex.printStackTrace();
    logger.log(Level.SEVERE,ex.toString());
    fail("Unexpected exception");
  }
}
