{
  try {
    PropertyMap props=new PropertyMap();
    final PropertyKey key=AbstractNode.name;
    final String name="89w3hklsdfghsdkljth";
    props.put(key,name);
    final AbstractNode node=createTestNode(TestOne.class.getSimpleName(),props);
    boolean includeDeletedAndHidden=true;
    boolean publicOnly=false;
    List<SearchAttribute> searchAttributes=new LinkedList<SearchAttribute>();
    searchAttributes.add(new TextualSearchAttribute(key,name,SearchOperator.AND));
    Result result=searchNodeCommand.execute(includeDeletedAndHidden,publicOnly,searchAttributes);
    assertTrue(result.size() == 1);
    assertTrue(result.get(0).equals(node));
    final String name2="klppptzoehig??soiutz??w0e9hg";
    Services.command(securityContext,TransactionCommand.class).execute(new StructrTransaction(){
      @Override public Object execute() throws FrameworkException {
        node.setProperty(key,name2);
        return null;
      }
    }
);
    searchAttributes.clear();
    searchAttributes.add(new TextualSearchAttribute(key,name2,SearchOperator.AND));
    result=searchNodeCommand.execute(includeDeletedAndHidden,publicOnly,searchAttributes);
    assertTrue(result.size() == 1);
    assertTrue(result.get(0).equals(node));
  }
 catch (  FrameworkException ex) {
    logger.log(Level.SEVERE,ex.toString());
    fail("Unexpected exception");
  }
}
