{
  try {
    PropertyMap props=new PropertyMap();
    PropertyKey key=TestOne.aDate;
    Date date=new Date();
    String type=TestOne.class.getSimpleName();
    props.put(key,date);
    AbstractNode node=createTestNode(type,props);
    boolean includeDeletedAndHidden=true;
    boolean publicOnly=false;
    List<SearchAttribute> searchAttributes=new LinkedList<SearchAttribute>();
    searchAttributes.add(new StringSearchAttribute(AbstractNode.type,type,Occur.MUST,true));
    searchAttributes.add(new FilterSearchAttribute(key,date,Occur.MUST));
    Result result=searchNodeCommand.execute(includeDeletedAndHidden,publicOnly,searchAttributes);
    assertEquals(1,result.size());
    assertTrue(result.get(0).equals(node));
  }
 catch (  FrameworkException ex) {
    logger.log(Level.SEVERE,ex.toString());
    fail("Unexpected exception");
  }
}
