{
  try {
    final NodeHasLocation rel=createTestRelationships(NodeHasLocation.class,1).get(0);
    final PropertyKey key1=new StringProperty("jghsdkhgshdhgsdjkfgh").indexed();
    final Class type=NodeHasLocation.class;
    final String val1="54354354546806849870";
    try {
      app.beginTx();
      rel.setProperty(key1,val1);
      app.commitTx();
    }
  finally {
      app.finishTx();
    }
    assertTrue(rel.getProperty(key1).equals(val1));
    List<SearchAttribute> searchAttributes=new LinkedList<>();
    searchAttributes.add(Search.andExactProperty(securityContext,key1,val1));
    Result<RelationshipInterface> result=app.relationshipQuery(type).and(key1,val1).getResult();
    assertTrue(result.size() == 1);
    assertTrue(result.get(0).equals(rel));
    searchAttributes.clear();
    final String val2="??lllldj??oa8w4rasf";
    try {
      app.beginTx();
      rel.setProperty(key1,val2);
      app.commitTx();
    }
  finally {
      app.finishTx();
    }
    assertTrue(result.size() == 1);
    assertTrue(result.get(0).equals(rel));
  }
 catch (  FrameworkException ex) {
    ex.printStackTrace();
    logger.log(Level.SEVERE,ex.toString());
    fail("Unexpected exception");
  }
}
