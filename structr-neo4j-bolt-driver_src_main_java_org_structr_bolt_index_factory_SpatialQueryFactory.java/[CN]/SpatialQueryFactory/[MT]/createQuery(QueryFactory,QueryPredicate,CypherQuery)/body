{
  if (predicate instanceof SpatialQuery) {
    final SpatialQuery spatial=(SpatialQuery)predicate;
    final StringBuilder buf=new StringBuilder();
    final Double[] coords=spatial.getCoords();
    buf.append("distance(point({latitude:");
    buf.append(coords[0]);
    buf.append(",longitude:");
    buf.append(coords[1]);
    buf.append("}), point(n))");
    context.addParameter(buf.toString(),"<",spatial.getDistance() * 1000.0,false);
  }
}
