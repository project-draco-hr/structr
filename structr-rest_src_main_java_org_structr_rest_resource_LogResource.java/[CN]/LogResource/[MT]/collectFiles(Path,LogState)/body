{
  try (final DirectoryStream<Path> stream=Files.newDirectoryStream(dir,"*")){
    for (    final Path p : stream) {
      if (Files.isDirectory(p)) {
        collectFiles(p,state);
      }
 else {
        read(p,state);
      }
    }
  }
 catch (  IOException ioex) {
    ioex.printStackTrace();
  }
}
