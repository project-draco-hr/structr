{
  final Map<String,ArrayList<String>> fileLines=new LinkedHashMap<>();
  try (final BufferedReader reader=Files.newBufferedReader(path,Charset.forName("utf-8"))){
    if (!state.includeFile(path.toFile())) {
      return Collections.EMPTY_MAP;
    }
    final String fileName=path.getFileName().toString();
    if (fileName.length() != 64) {
      logger.log(Level.WARNING,"Invalid log file name {0}, ignoring.",path.toAbsolutePath().getFileName());
      return Collections.EMPTY_MAP;
    }
    String l;
    final ArrayList<String> lines=new ArrayList<>();
    while ((l=reader.readLine()) != null) {
      lines.add(l);
    }
    fileLines.put(fileName,lines);
  }
 catch (  IOException ioex) {
    ioex.printStackTrace();
  }
  return fileLines;
}
