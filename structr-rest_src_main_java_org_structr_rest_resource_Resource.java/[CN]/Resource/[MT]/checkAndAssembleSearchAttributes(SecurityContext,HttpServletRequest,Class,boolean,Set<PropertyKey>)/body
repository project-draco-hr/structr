{
  List<SearchAttribute> searchAttributes=Collections.emptyList();
  if (searchableProperties != null) {
    checkForIllegalSearchKeys(request,type,searchableProperties);
    searchAttributes=new LinkedList<SearchAttribute>();
    for (    final PropertyKey key : searchableProperties) {
      String searchValue=request.getParameter(key.jsonName());
      if (searchValue != null) {
        if (looseSearch) {
          searchValue=removeQuotes(searchValue);
          searchAttributes.add(Search.andProperty(key,searchValue));
        }
 else {
          SearchAttribute attr=determineSearchType(securityContext,key,searchValue);
          if (attr != null) {
            searchAttributes.add(attr);
          }
        }
      }
    }
  }
  return searchAttributes;
}
