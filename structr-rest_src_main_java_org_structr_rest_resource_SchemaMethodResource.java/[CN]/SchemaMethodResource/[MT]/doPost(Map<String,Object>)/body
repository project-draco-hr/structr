{
  final App app=StructrApp.getInstance(securityContext);
  try (final Tx tx=app.tx()){
    if (type != null && method != null) {
      try {
        final Object instance=instantiate(type);
        final Object obj=method.invoke(instance,propertySet);
        if (obj instanceof RestMethodResult) {
          return (RestMethodResult)obj;
        }
 else {
          final RestMethodResult result=new RestMethodResult(200);
          StaticRelationshipResource.unwrapTo(obj,result);
          return result;
        }
      }
 catch (      InstantiationException|InvocationTargetException|IllegalAccessException ex) {
        logger.warn("Exception while executing {}.{}: {}",type.getSimpleName(),methodName,ex.getMessage());
      }
    }
    tx.success();
  }
   throw new IllegalPathException("Type and method name do not match the given path.");
}
