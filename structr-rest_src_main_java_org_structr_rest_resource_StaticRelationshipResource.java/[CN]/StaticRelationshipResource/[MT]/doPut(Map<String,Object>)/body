{
  final List<? extends GraphObject> results=typedIdResource.doGet(null,false,NodeFactory.DEFAULT_PAGE_SIZE,NodeFactory.DEFAULT_PAGE,null).getResults();
  final App app=StructrApp.getInstance(securityContext);
  if (results != null) {
    final PropertyKey key=findPropertyKey(typedIdResource,typeResource);
    if (key != null && key instanceof RelationProperty) {
      final GraphObject sourceEntity=typedIdResource.getEntity();
      if (sourceEntity != null) {
        if (key.isReadOnly()) {
          logger.log(Level.INFO,"Read-only property on {1}: {0}",new Object[]{sourceEntity.getClass(),typeResource.getRawType()});
          return new RestMethodResult(HttpServletResponse.SC_FORBIDDEN);
        }
        app.beginTx();
        final List<GraphObject> nodes=new LinkedList<>();
        for (        final Object obj : propertySet.values()) {
          nodes.add(app.get(obj.toString()));
        }
        sourceEntity.setProperty(key,nodes);
        app.commitTx();
      }
    }
  }
  return new RestMethodResult(HttpServletResponse.SC_OK);
}
