{
  List<SearchAttribute> attrs=new LinkedList<SearchAttribute>();
  attrs.add(Search.andExactUuid(uuid));
  Result results=Services.command(SecurityContext.getSuperUserInstance(),SearchNodeCommand.class).execute(attrs);
  int size=results.size();
  AbstractNode node=null;
switch (size) {
case 0:
    throw new NotFoundException();
case 1:
  node=(AbstractNode)results.get(0);
if (!securityContext.isReadable(node,true,false)) {
  throw new NotAllowedException();
}
node.setSecurityContext(securityContext);
return node;
default :
logger.log(Level.WARNING,"Got more than one result for UUID {0}, this is very likely to be a UUID collision!",uuid);
node=(AbstractNode)results.get(0);
node.setSecurityContext(securityContext);
return node;
}
}
