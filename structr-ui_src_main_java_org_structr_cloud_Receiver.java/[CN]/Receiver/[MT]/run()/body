{
  connected=true;
  while (connected) {
    try {
      final Message message=(Message)inputStream.readObject();
      if (message != null) {
        inputQueue.add(message);
      }
    }
 catch (    ClassNotFoundException cnfex) {
      cnfex.printStackTrace();
    }
catch (    IOException ioex) {
      connected=false;
    }
  }
}
