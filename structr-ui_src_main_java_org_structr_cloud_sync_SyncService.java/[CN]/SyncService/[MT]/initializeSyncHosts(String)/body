{
  final int numSyncHosts=syncHosts.size();
  requiredSyncCount=Integer.valueOf(minimum);
  if (numSyncHosts < requiredSyncCount) {
    throw new IllegalStateException("synchronization policy requires at least " + requiredSyncCount + " hosts, but only "+ numSyncHosts+ " are set.");
  }
  logger.log(Level.INFO,"Synchronization to {0} host{1} required.",new Object[]{requiredSyncCount,requiredSyncCount == 1 ? "" : "s"});
  for (  final SyncHostInfo host : syncHosts) {
    try {
      final Ping ping=CloudService.doRemote(new SingleTransmission<>(new Ping()),host.getUser(),host.getPwd(),host.getHost(),host.getPort(),null);
      if (ping == null) {
        throw new IllegalStateException("synchronization server " + host.getHost() + " not available.");
      }
    }
 catch (    FrameworkException ex) {
      throw new IllegalStateException("synchronization server " + host.getHost() + " not available.");
    }
  }
}
