{
  if (line.startsWith("Console.setMode('javascript')") || line.startsWith("Console.setMode(\"javascript\")")) {
    mode=ConsoleMode.javascript;
    output.println("Mode set to 'JavaScript'.");
  }
 else   if (line.startsWith("Console.setMode('cypher')") || line.startsWith("Console.setMode(\"cypher\")")) {
    mode=ConsoleMode.cypher;
    output.println("Mode set to 'Cypher'.");
  }
 else   if (line.startsWith("Console.setMode('structr')") || line.startsWith("Console.setMode(\"structr\")")) {
    mode=ConsoleMode.structrscript;
    output.println("Mode set to 'StructrScript'.");
  }
 else   if (line.startsWith("Console.setMode('shell')") || line.startsWith("Console.setMode(\"shell\")")) {
    mode=ConsoleMode.adminshell;
    output.println("Mode set to 'AdminShell'. Type 'help' to get a list of commands.");
  }
 else {
switch (mode) {
case cypher:
      runCypher(line,output);
    break;
case javascript:
  runJavascript(line,output);
break;
case structrscript:
runStructrScript(line,output);
break;
case adminshell:
runAdminShell(line,output);
break;
}
}
}
