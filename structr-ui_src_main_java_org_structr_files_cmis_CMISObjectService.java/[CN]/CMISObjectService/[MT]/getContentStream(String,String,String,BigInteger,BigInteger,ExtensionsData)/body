{
  final App app=StructrApp.getInstance();
  ContentStreamImpl result=null;
  try (final Tx tx=app.tx()){
    final FileBase file=app.get(FileBase.class,objectId);
    if (file != null) {
      result=new ContentStreamImpl();
      result.setFileName(file.getName());
      result.setLength(BigInteger.valueOf(file.getProperty(FileBase.size)));
      result.setMimeType(file.getProperty(FileBase.contentType));
      result.setStream(file.getInputStream());
    }
    tx.success();
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
  if (result != null) {
    return result;
  }
  throw new CmisObjectNotFoundException("Object with ID " + objectId + " does not exist");
}
