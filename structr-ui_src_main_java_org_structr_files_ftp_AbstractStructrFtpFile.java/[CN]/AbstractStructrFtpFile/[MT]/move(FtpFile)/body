{
  logger.log(Level.INFO,"move()");
  final AbstractStructrFtpFile targetFile=(AbstractStructrFtpFile)target;
  final String path=targetFile instanceof StructrFtpFile ? "/" : targetFile.getAbsolutePath();
  final App app=StructrApp.getInstance();
  try {
    app.beginTx();
    if (path.contains("/")) {
      String newParentPath=StringUtils.substringBeforeLast(path,"/");
      AbstractFile newParent=FileHelper.getFileByAbsolutePath(newParentPath);
      if (newParent != null && newParent instanceof Folder) {
        Folder newParentFolder=(Folder)newParent;
        structrFile.setProperty(AbstractFile.parent,newParentFolder);
      }
 else {
        structrFile.setProperty(AbstractFile.parent,null);
      }
    }
    if (!("/".equals(path))) {
      final String newName=path.contains("/") ? StringUtils.substringAfterLast(path,"/") : path;
      structrFile.setProperty(AbstractNode.name,newName);
    }
    app.commitTx();
  }
 catch (  FrameworkException ex) {
    logger.log(Level.SEVERE,"Could not move ftp file",ex);
    return false;
  }
 finally {
    app.finishTx();
  }
  return true;
}
