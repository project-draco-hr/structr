{
  logger.log(Level.INFO,"move()");
  AbstractStructrFtpFile targetFile=(AbstractStructrFtpFile)target;
  final String path=targetFile instanceof StructrFtpFile ? "/" : targetFile.getAbsolutePath();
  try {
    Services.command(SecurityContext.getSuperUserInstance(),TransactionCommand.class).execute(new StructrTransaction(){
      @Override public Object execute() throws FrameworkException {
        if (path.contains("/")) {
          String newParentPath=StringUtils.substringBeforeLast(path,"/");
          AbstractFile newParent=FileHelper.getFileByAbsolutePath(newParentPath);
          if (newParent != null && newParent instanceof Folder) {
            Folder newParentFolder=(Folder)newParent;
            structrFile.setProperty(AbstractFile.parent,newParentFolder);
          }
 else {
            structrFile.setProperty(AbstractFile.parent,null);
          }
        }
        if (!("/".equals(path))) {
          final String newName=path.contains("/") ? StringUtils.substringAfterLast(path,"/") : path;
          structrFile.setProperty(AbstractNode.name,newName);
        }
        return null;
      }
    }
);
  }
 catch (  FrameworkException ex) {
    logger.log(Level.SEVERE,"Could not move ftp file",ex);
    return false;
  }
  return true;
}
