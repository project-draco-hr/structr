{
  logger.log(Level.INFO,"mkdir() Folder");
  AbstractFile existing=FileHelper.getFileByAbsolutePath(newPath);
  if (existing != null) {
    logger.log(Level.WARNING,"File {0} already exists.",newPath);
    return false;
  }
  final Folder parentFolder=(Folder)FileHelper.getFileByAbsolutePath(StringUtils.substringBeforeLast(newPath,"/"));
  try {
    structrFile=Services.command(SecurityContext.getSuperUserInstance(),TransactionCommand.class).execute(new StructrTransaction<Folder>(){
      @Override public Folder execute() throws FrameworkException {
        Folder newFolder=(Folder)Services.command(SecurityContext.getSuperUserInstance(),CreateNodeCommand.class).execute(new NodeAttribute(AbstractNode.type,Folder.class.getSimpleName()),new NodeAttribute(AbstractNode.owner,owner.getStructrUser()),new NodeAttribute(AbstractNode.name,getName()));
        if (parentFolder != null) {
          newFolder.setProperty(AbstractFile.parent,parentFolder);
        }
        return newFolder;
      }
    }
);
  }
 catch (  FrameworkException ex) {
    logger.log(Level.SEVERE,null,ex);
    return false;
  }
  return true;
}
