{
  logger.log(Level.INFO,"Requested path: {0}",requestedPath);
  if (requestedPath.equals("/")) {
    return getHomeDirectory();
  }
  StructrFtpFolder cur=(StructrFtpFolder)getWorkingDirectory();
  if (requestedPath.equals("./")) {
    return cur;
  }
  if (requestedPath.equals("..")) {
    return new StructrFtpFolder(cur.getStructrFile().getProperty(AbstractFile.parent));
  }
  String curPath=cur.getAbsolutePath();
  List<FtpFile> files=cur.listFiles();
  for (  FtpFile file : files) {
    String path=file.getAbsolutePath();
    if ("/".equals(curPath)) {
      if (file.getName().equals(requestedPath)) {
        return file;
      }
    }
    if (path.equals(curPath.concat(requestedPath))) {
      String type=file.isDirectory() ? "Directory" : (file.isFile() ? "File" : "unknown");
      logger.log(Level.INFO,"{0} found: {1}",new Object[]{type,file.getAbsolutePath()});
      return file;
    }
  }
  logger.log(Level.WARNING,"File not found: {0}",requestedPath);
  throw new FtpException("File not found: " + requestedPath);
}
