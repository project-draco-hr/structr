{
  final SecurityContext securityContext=SecurityContext.getSuperUserInstance();
  if (sourceNode == null) {
    throw new UnsupportedArgumentError("Source node is null!");
  }
  if (sourceNode instanceof CsvFile) {
    try {
      Services.command(securityContext,ConvertCsvToNodeListCommand.class).execute(user,sourceNode,targetClass);
    }
 catch (    FrameworkException fex) {
      fex.printStackTrace();
    }
  }
 else {
    throw new UnsupportedArgumentError("Source node type " + sourceNode.getType() + " not supported. This agent can convert only CSV files.");
  }
}
