{
  Principal user=checkSessionAuthentication(request,response);
  if (user != null) {
    securityContext.setUser(user);
    return user;
  }
  if (tryLogin && user == null) {
    user=checkBasicAuthentication(request,response);
  }
  return user;
}
