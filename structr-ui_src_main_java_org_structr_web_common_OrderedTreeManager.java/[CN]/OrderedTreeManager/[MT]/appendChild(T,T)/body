{
  final SecurityContext securityContext=treeElement.getSecurityContext();
  final T lastChild=getLastChild(treeElement);
  Services.command(securityContext,TransactionCommand.class).execute(new StructrTransaction(){
    @Override public Object execute() throws FrameworkException {
      PropertyMap properties=new PropertyMap();
      properties.put(positionKey,getChildCount(treeElement));
      collectionKey.createRelationship(securityContext,treeElement,childElement,properties);
      if (lastChild != null) {
        linkedListManager.insertAfter(lastChild,childElement);
      }
      return null;
    }
  }
);
}
