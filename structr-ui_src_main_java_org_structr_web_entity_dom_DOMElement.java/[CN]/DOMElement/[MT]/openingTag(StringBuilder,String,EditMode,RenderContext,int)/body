{
  buffer.append("<").append(tag);
  if (EditMode.CONTENT.equals(editMode)) {
    if (depth == 0) {
      String pageId=renderContext.getPageId();
      if (pageId != null) {
        buffer.append(" data-structr-page=\"").append(pageId).append("\"");
      }
    }
    buffer.append(" data-structr-el=\"").append(getUuid()).append("\"");
  }
  renderCustomAttributes(buffer,securityContext,renderContext);
  for (  PropertyKey attribute : EntityContext.getPropertySet(getClass(),PropertyView.Html)) {
    String value=getPropertyWithVariableReplacement(securityContext,renderContext,attribute);
    if (!(EditMode.RAW.equals(editMode))) {
      value=escapeForHtmlAttributes(value);
    }
    if (value != null) {
      String key=attribute.jsonName().substring(PropertyView.Html.length());
      buffer.append(" ").append(key).append("=\"").append(value).append("\"");
    }
  }
  buffer.append(">");
}
