{
  checkWriteAccess();
  checkSameDocument(newChild);
  checkSameDocument(oldChild);
  checkHierarchy(newChild);
  checkHierarchy(oldChild);
  try {
    if (newChild instanceof DocumentFragment) {
      throw new UnsupportedOperationException("DocumentFragments not supported yet.");
    }
 else {
      treeManager.replaceChild(this,(DOMNode)newChild,(DOMNode)oldChild);
    }
  }
 catch (  FrameworkException fex) {
    throw new DOMException(DOMException.INVALID_STATE_ERR,fex.toString());
  }
  return oldChild;
}
