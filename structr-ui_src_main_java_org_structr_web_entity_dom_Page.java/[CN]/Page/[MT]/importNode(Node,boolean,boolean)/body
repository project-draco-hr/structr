{
  if (node instanceof DOMNode) {
    final DOMNode domNode=(DOMNode)node;
    final App app=StructrApp.getInstance(securityContext);
    try (final TransactionCommand cmd=app.beginTx()){
      Node importedNode=domNode.doImport(Page.this);
      if (deep && domNode.hasChildNodes()) {
        Node child=domNode.getFirstChild();
        while (child != null) {
          importNode(child,deep,false);
          child=child.getNextSibling();
          logger.log(Level.INFO,"sibling is {0}",child);
        }
      }
      if (removeParentFromSourceNode) {
        Node _parent=domNode.getParentNode();
        if (_parent != null) {
          _parent.removeChild(domNode);
        }
      }
      app.commitTx();
      return importedNode;
    }
 catch (    FrameworkException fex) {
      throw new DOMException(DOMException.INVALID_STATE_ERR,fex.getMessage());
    }
  }
  return null;
}
