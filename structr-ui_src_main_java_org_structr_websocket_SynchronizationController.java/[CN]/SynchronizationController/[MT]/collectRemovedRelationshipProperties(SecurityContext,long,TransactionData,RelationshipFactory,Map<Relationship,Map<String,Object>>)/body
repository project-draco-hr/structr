{
  for (  PropertyEntry<Relationship> entry : data.removedRelationshipProperties()) {
    Relationship rel=entry.entity();
    Map<String,Object> propertyMap=removedRelProperties.get(rel);
    if (propertyMap == null) {
      propertyMap=new LinkedHashMap<>();
      removedRelProperties.put(rel,propertyMap);
    }
    propertyMap.put(entry.key(),entry.previouslyCommitedValue());
    if (!data.isDeleted(rel)) {
      RelationshipInterface modifiedRel=relFactory.instantiate(rel);
      if (modifiedRel != null) {
        PropertyKey key=getPropertyKeyForDatabaseName(modifiedRel.getClass(),entry.key());
        propertyRemoved(securityContext,transactionKey,modifiedRel,key,entry.previouslyCommitedValue());
      }
    }
  }
}
