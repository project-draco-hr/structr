{
  final SecurityContext securityContext=getWebSocket().getSecurityContext();
  try {
    if (idProperty != null) {
      List<SearchAttribute> attrs=new LinkedList<SearchAttribute>();
      attrs.add(Search.andExactProperty(idProperty,id));
      Result results=Services.command(securityContext,SearchNodeCommand.class).execute(true,false,attrs);
      if (!results.isEmpty()) {
        return (DOMNode)results.get(0);
      }
    }
 else {
      List<DOMNode> results=(List<DOMNode>)Services.command(securityContext,FindNodeCommand.class).execute(id);
      if (!results.isEmpty()) {
        return results.get(0);
      }
    }
  }
 catch (  FrameworkException fex) {
    logger.log(Level.WARNING,"Unable to get node",fex);
  }
  return null;
}
