{
  final SecurityContext securityContext=getWebSocket().getSecurityContext();
  try {
    if (idProperty != null) {
      List<SearchAttribute> attrs=new LinkedList<SearchAttribute>();
      attrs.add(Search.andExactProperty(idProperty,id));
      List<AbstractRelationship> results=(List<AbstractRelationship>)Services.command(securityContext,SearchRelationshipCommand.class).execute(attrs);
      if (!results.isEmpty()) {
        return results.get(0);
      }
    }
 else {
      List<AbstractRelationship> results=(List<AbstractRelationship>)Services.command(securityContext,FindRelationshipCommand.class).execute(id);
      if (!results.isEmpty()) {
        return results.get(0);
      }
    }
  }
 catch (  FrameworkException fex) {
    logger.log(Level.WARNING,"Unable to get relationship",fex);
  }
  return null;
}
