{
switch (action) {
case "grant":
    principal.grant(Permission.valueOf(permission),obj);
  break;
case "revoke":
principal.revoke(Permission.valueOf(permission),obj);
break;
}
if (rec) {
if (obj instanceof LinkedTreeNode) {
LinkedTreeNode ltn=(LinkedTreeNode)obj;
for (Object t : ltn.treeGetChildren()) {
setPermission((AbstractNode)t,principal,action,permission,rec);
}
}
}
}
