{
  Integer pos=childIndexMap.get(depth);
  if (pos == null) {
    pos=0;
  }
  int position=pos;
  childIndexMap.put(depth,++position);
  final String hash="[" + depth + ":"+ position+ "]";
  indexMappedNodes.put(hash,node);
  for (int i=0; i < depth; i++) {
    System.out.print("    ");
  }
  System.out.println(node.getProperty(GraphObject.type) + hash);
  String dataHash=node.getProperty(DOMNode.dataHashProperty);
  if (dataHash == null) {
    dataHash=node.getIdHash();
  }
  hashMappedNodes.put(dataHash,node);
  for (  final DOMChildren childRel : node.getChildRelationships()) {
    collectNodes(childRel.getTargetNode(),indexMappedNodes,hashMappedNodes,depth + 1,childIndexMap);
  }
}
