{
  final String result1=testDiff("<html><head><title>Title</title></head><body><div>Text<h2>one</h2><div><p>two</p></div></div></body></html>",new org.neo4j.helpers.Function<String,String>(){
    @Override public String apply(    String from){
      final StringBuilder clipboard=new StringBuilder();
      final StringBuilder buf=new StringBuilder(from);
      int cutStart=buf.indexOf("<h2");
      int cutEnd=buf.indexOf("</h2>") + 5;
      clipboard.append(buf.substring(cutStart,cutEnd));
      buf.replace(cutStart,cutEnd,"");
      int insert=buf.indexOf("<p ");
      buf.insert(insert,clipboard.toString());
      System.out.println(buf.toString());
      return buf.toString();
    }
  }
);
  System.out.println(result1);
  assertEquals("<!DOCTYPE html>\n" + "<html>\n" + "  <head>\n"+ "    <title>Title</title>\n"+ "  </head>\n"+ "  <body>\n"+ "    <div>Text \n"+ "      <div>\n"+ "        <h2>one</h2>\n"+ "        <p>two</p>\n"+ "      </div>\n"+ "    </div>\n"+ "  </body>\n"+ "</html>",result1);
}
