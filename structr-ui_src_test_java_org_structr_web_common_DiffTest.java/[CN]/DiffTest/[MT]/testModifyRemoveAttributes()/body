{
  final String result1=testDiff("<html><head><title>Title</title></head><body><div><h2 class=\"test\" id=\"one\">one</h2></div><div><h2>two</h2></div><div><h2 id=\"three\">three</h2></div><div><h2>four</h2></div></body></html>",new org.neo4j.helpers.Function<String,String>(){
    @Override public String apply(    String from){
      String modified=from;
      modified=modified.replace(" class=\"test\"","class=\"foo\"");
      modified=modified.replace(" id=\"one\"","id=\"two\"");
      modified=modified.replace(" id=\"three\"","class=\"test\"");
      return modified;
    }
  }
);
  assertEquals("<!DOCTYPE html>\n" + "<html>\n" + "  <head>\n"+ "    <title>Title</title>\n"+ "  </head>\n"+ "  <body>\n"+ "    <div>\n"+ "      <h2 class=\"foo\" id=\"two\">one</h2>\n"+ "    </div>\n"+ "    <div>\n"+ "      <h2>two</h2>\n"+ "    </div>\n"+ "    <div>\n"+ "      <h2 class=\"test\">three</h2>\n"+ "    </div>\n"+ "    <div>\n"+ "      <h2>four</h2>\n"+ "    </div>\n"+ "  </body>\n"+ "</html>",result1);
}
