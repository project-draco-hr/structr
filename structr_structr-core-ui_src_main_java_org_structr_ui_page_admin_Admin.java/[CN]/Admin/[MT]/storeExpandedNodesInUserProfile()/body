{
  List<Long> expandedNodes=new ArrayList<Long>();
  for (  TreeNode n : nodeTree.getExpandedNodes(true)) {
    StructrNode s=(StructrNode)n.getValue();
    expandedNodes.add(s.getId());
  }
  long[] expandedNodesArray=ArrayUtils.toPrimitive(expandedNodes.toArray(new Long[expandedNodes.size()]));
  storeExpandedNodesInUserProfile(expandedNodesArray);
}
