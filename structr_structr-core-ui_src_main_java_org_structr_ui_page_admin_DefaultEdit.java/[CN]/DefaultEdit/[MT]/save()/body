{
  final Command transactionCommand=Services.command(TransactionCommand.class);
  transactionCommand.execute(new StructrTransaction(){
    @Override public Object execute() throws Throwable {
      AbstractNode s=getNodeByIdOrPath(getNodeId());
      if (editPropertiesForm.isValid()) {
        editPropertiesForm.copyTo(s,true);
        transactionCommand.setExitCode(Command.exitCode.SUCCESS);
        okMsg="Form data saved successfully";
      }
 else {
        transactionCommand.setExitCode(Command.exitCode.FAILURE);
        errorMsg="Properties form is invalid";
        transactionCommand.setErrorMessage(errorMsg);
      }
      return (null);
    }
  }
);
}
