{
  Envelope result=envelope;
  result.expandBy(0.2);
  double minX=result.getMinX();
  double minY=result.getMinY();
  double maxX=result.getMaxX();
  double maxY=result.getMaxY();
  double x=maxX - minX;
  double y=maxY - minY;
  double a=x / y;
  double b=canvasX / canvasY;
  if (a < b) {
    result.expandBy((canvasX * y / canvasY) - x,0);
  }
  return result;
}
