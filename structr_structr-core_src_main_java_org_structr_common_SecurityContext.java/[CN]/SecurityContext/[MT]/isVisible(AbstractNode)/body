{
  if (node == null) {
    return (false);
  }
  User user=getUser();
  if (user instanceof SuperUser) {
    return true;
  }
  if (node.isHidden()) {
    return false;
  }
  boolean visibleByTime=false;
  Date visStartDate=node.getVisibilityStartDate();
  long effectiveStartDate=0L;
  Date createdDate=node.getCreatedDate();
  if (createdDate != null) {
    effectiveStartDate=Math.max(createdDate.getTime(),0L);
  }
  visStartDate=((visStartDate == null) ? new Date(effectiveStartDate) : visStartDate);
  Date visEndDate=node.getVisibilityEndDate();
  visEndDate=((visEndDate == null) ? new Date(Long.MAX_VALUE) : visEndDate);
  Date now=new Date();
  visibleByTime=(now.after(visStartDate) && now.before(visEndDate));
  if (user == null) {
    if (node.isPublic()) {
      return visibleByTime;
    }
 else {
      return false;
    }
  }
 else {
    if (node.isVisibleToAuthenticatedUsers()) {
      return visibleByTime;
    }
 else {
      return false;
    }
  }
}
