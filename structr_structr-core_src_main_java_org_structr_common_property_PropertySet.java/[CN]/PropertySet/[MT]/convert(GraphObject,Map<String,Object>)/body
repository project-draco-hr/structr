{
  PropertySet resultMap=new PropertySet();
  for (  Entry<String,Object> entry : source.entrySet()) {
    String key=entry.getKey();
    Object value=entry.getValue();
    if (key != null && value != null) {
      PropertyKey propertyKey=entity.getPropertyKeyForName(key);
      Object propertyValue=propertyKey.fromPrimitive(entity,value);
      resultMap.put(propertyKey,propertyValue);
    }
  }
  return resultMap;
}
