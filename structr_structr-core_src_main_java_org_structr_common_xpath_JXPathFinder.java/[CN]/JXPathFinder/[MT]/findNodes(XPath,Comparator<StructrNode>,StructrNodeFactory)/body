{
  List<StructrNode> ret=null;
  long t0=System.currentTimeMillis();
  logger.log(Level.FINE,"XPath: {0}, current node: {1}",new Object[]{xpath.getXPath(),currentNode.getName()});
  try {
    Set nodeSet=new HashSet(context.selectNodes(xpath.getXPath()));
    ret=nodeFactory.createNodes(nodeSet);
  }
 catch (  Throwable t) {
    if (t instanceof JXPathException || t instanceof JXPathInvalidSyntaxException) {
      logger.log(Level.WARNING,"Could not find node(s) by XPath: {0}",xpath.getXPath());
    }
  }
  if (ret != null && comparator != null) {
    Collections.sort(ret,comparator);
  }
  long t1=System.currentTimeMillis();
  if (ret != null) {
    logger.log(Level.FINE,"Returning node list with {0} entries in {1} ms",new Object[]{ret.size(),t1 - t0});
  }
 else {
    logger.log(Level.FINE,"Returning null node list in {0} ms",new Object[]{t1 - t0});
  }
  return ret;
}
