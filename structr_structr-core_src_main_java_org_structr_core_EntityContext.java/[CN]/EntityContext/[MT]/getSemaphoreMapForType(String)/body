{
  Map<String,Semaphore> semaphoreMap=globalSemaphoreMap.get(type);
  if (semaphoreMap == null) {
    semaphoreMap=Collections.synchronizedMap(new LinkedHashMap<String,Semaphore>());
    globalSemaphoreMap.put(type,semaphoreMap);
  }
  return semaphoreMap;
}
