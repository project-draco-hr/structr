{
  if (source instanceof Map) {
    for (    Entry<String,Object> attr : ((Map<String,Object>)source).entrySet()) {
      String key=attr.getKey();
      Object value=attr.getValue();
      if (value instanceof PropertySet) {
        setGroupedProperties(value,destination);
      }
 else {
        destination.setProperty(key,value);
      }
    }
  }
 else   if (source instanceof PropertySet) {
    for (    NodeAttribute attr : ((PropertySet)source).getAttributes()) {
      String key=attr.getKey();
      Object value=attr.getValue();
      if (value instanceof PropertySet) {
        setGroupedProperties(value,destination);
      }
 else {
        destination.setProperty(key,value);
      }
    }
  }
}
