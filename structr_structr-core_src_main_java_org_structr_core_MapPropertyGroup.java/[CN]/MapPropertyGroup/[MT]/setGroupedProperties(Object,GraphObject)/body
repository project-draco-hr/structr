{
  if (source == null) {
    for (    PropertyKey key : propertyKeys) {
      destination.setProperty(key,null);
    }
  }
 else   if (source instanceof Map) {
    for (    Entry<String,Object> attr : ((Map<String,Object>)source).entrySet()) {
      String key=attr.getKey();
      Object value=attr.getValue();
      if (value instanceof PropertySet) {
        setGroupedProperties(value,destination);
      }
 else {
        PropertyKey propertyKey=destination.getPropertyKeyForName(key);
        destination.setProperty(propertyKey,value);
      }
    }
  }
 else   if (source instanceof PropertySet) {
    for (    Entry<String,Object> entry : ((PropertySet)source).getAttributes().entrySet()) {
      String key=entry.getKey();
      Object value=entry.getValue();
      if (value instanceof PropertySet) {
        setGroupedProperties(value,destination);
      }
 else {
        PropertyKey propertyKey=destination.getPropertyKeyForName(key);
        destination.setProperty(propertyKey,value);
      }
    }
  }
}
