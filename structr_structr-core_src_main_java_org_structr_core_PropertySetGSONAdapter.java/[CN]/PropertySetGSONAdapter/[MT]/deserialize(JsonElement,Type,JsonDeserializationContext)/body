{
  PropertySet wrapper=new PropertySet();
  if (json.isJsonObject()) {
    JsonObject obj=json.getAsJsonObject();
    for (    Entry<String,JsonElement> entry : obj.entrySet()) {
      String key=entry.getKey();
      JsonElement elem=entry.getValue();
      if ((idProperty != null) && "id".equals(key)) {
        key=idProperty.name();
      }
      if (elem.isJsonNull()) {
        wrapper.add(key,null);
      }
 else       if (elem.isJsonObject()) {
        wrapper.add(key,deserialize(elem,typeOfT,context));
      }
 else       if (elem.isJsonArray()) {
        JsonArray array=elem.getAsJsonArray();
        List list=new LinkedList();
        for (        JsonElement element : array) {
          if (element.isJsonPrimitive()) {
            list.add(fromPrimitive((element.getAsJsonPrimitive())));
          }
 else           if (element.isJsonObject()) {
            list.add(deserialize(element,typeOfT,context));
          }
        }
        wrapper.add(key,list);
      }
 else       if (elem.isJsonPrimitive()) {
        wrapper.add(key,fromPrimitive((JsonPrimitive)elem));
      }
    }
  }
 else   if (json.isJsonArray()) {
    JsonArray array=json.getAsJsonArray();
    for (    JsonElement elem : array) {
      if (elem.isJsonPrimitive()) {
        wrapper.add(elem.toString(),((JsonPrimitive)elem).getAsString());
      }
 else       if (elem.isJsonObject()) {
        wrapper.add(elem.toString(),deserialize(elem,typeOfT,context));
      }
 else       if (elem.isJsonArray()) {
        wrapper.add(elem.toString(),deserialize(elem,typeOfT,context));
      }
    }
  }
  return wrapper;
}
