{
  List<Agent> agents=getRunningAgentsForTask(agent.getSupportedTaskType());
synchronized (agents) {
    agents.add(agent);
    int size=agents.size();
    if (size > maxAgents) {
      maxAgents=size;
    }
  }
}
