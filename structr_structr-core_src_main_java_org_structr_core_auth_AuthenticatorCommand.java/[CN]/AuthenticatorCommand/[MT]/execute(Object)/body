{
  if (parameters != null && parameters.length == 1 && parameters[0] instanceof ServletConfig) {
    ServletConfig servletConfig=(ServletConfig)parameters[0];
    Authenticator authenticator=null;
    if (servletConfig != null) {
      String authenticatorClassName=servletConfig.getInitParameter(AuthenticationService.SERVLET_PARAMETER_AUTHENTICATOR);
      if (authenticatorClassName != null) {
        try {
          Class authenticatorClass=Class.forName(authenticatorClassName);
          authenticator=(Authenticator)authenticatorClass.newInstance();
          servletConfig.getServletContext().setAttribute(AuthenticationService.SERVLET_PARAMETER_AUTHENTICATOR,authenticator);
        }
 catch (        Throwable t) {
          logger.log(Level.SEVERE,"Error instantiating authenticator for servlet with context path {0}: {1}",new Object[]{servletConfig.getServletName(),t});
        }
      }
 else {
        logger.log(Level.SEVERE,"No authenticator for servlet with context path {0}",servletConfig.getServletName());
      }
      return authenticator;
    }
  }
  return null;
}
