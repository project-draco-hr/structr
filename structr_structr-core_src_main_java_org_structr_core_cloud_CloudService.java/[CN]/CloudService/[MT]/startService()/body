{
  Log.set(CloudService.KRYONET_LOG_LEVEL);
  server=new Server(CloudService.BUFFER_SIZE * 4,CloudService.BUFFER_SIZE * 2);
  Kryo kryo=server.getKryo();
  registerClasses(kryo,rootListener);
  server.start();
  logger.log(Level.INFO,"KryoNet server started");
  try {
    server.bind(tcpPort,udpPort);
    server.addListener(rootListener);
    logger.log(Level.INFO,"KryoNet server listening on TCP port {0} and UDP port {1}",new Object[]{tcpPort,udpPort});
  }
 catch (  IOException ex) {
    logger.log(Level.SEVERE,"KryoNet server could not bind to TCP port " + tcpPort + " or UDP port "+ udpPort,ex);
  }
}
