{
  if (currentObject != null && value != null) {
    Object valueObject=value.get(securityContext);
    if (valueObject != null && valueObject instanceof CypherQueryHandler) {
      Map<String,Object> parameters=new LinkedHashMap<String,Object>();
      CypherQueryHandler handler=(CypherQueryHandler)valueObject;
      String query=handler.getQuery();
      String name=currentObject.getProperty(AbstractNode.name);
      String uuid=currentObject.getProperty(AbstractNode.uuid);
      parameters.put("id",uuid);
      parameters.put("uuid",uuid);
      parameters.put("name",name);
      handler.setSecurityContext(securityContext);
      try {
        List<AbstractNode> nodes=(List<AbstractNode>)handler.handleQueryResults(engine.execute(query,parameters));
        return nodes;
      }
 catch (      FrameworkException fex) {
        logger.log(Level.WARNING,"Exception while executing cypher query {0}: {1}",new Object[]{query,fex.getMessage()});
      }
    }
  }
  return null;
}
