{
  int count=0;
  if (currentObject != null && value != null) {
    Object val=value.get();
    if (val != null) {
      Object toCount=currentObject.getProperty(val.toString());
      if (toCount != null) {
        if (toCount instanceof Collection) {
          count=((Collection)toCount).size();
        }
 else         if (toCount instanceof Iterable) {
          for (          Object o : ((Iterable)toCount)) {
            count++;
          }
        }
 else {
          count=1;
        }
      }
    }
  }
  return count;
}
