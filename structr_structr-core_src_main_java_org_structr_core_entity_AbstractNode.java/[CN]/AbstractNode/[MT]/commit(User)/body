{
  isDirty=false;
  Command transactionCommand=Services.command(TransactionCommand.class);
  transactionCommand.execute(new StructrTransaction(){
    @Override public Object execute() throws Throwable {
      Command createNode=Services.command(CreateNodeCommand.class);
      AbstractNode s=(AbstractNode)createNode.execute(user);
      init(s);
      Set<String> keys=properties.keySet();
      for (      String key : keys) {
        setProperty(key,properties.get(key));
      }
      return null;
    }
  }
);
}
