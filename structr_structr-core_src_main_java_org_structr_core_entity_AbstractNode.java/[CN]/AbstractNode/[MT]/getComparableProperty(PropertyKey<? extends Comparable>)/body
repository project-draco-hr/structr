{
  Object propertyValue=getProperty(key,false);
  Class type=getClass();
  PropertyConverter converter=key.databaseConverter(securityContext);
  if (converter != null) {
    converter.setCurrentObject(this);
    try {
      return converter.convertForSorting(propertyValue);
    }
 catch (    FrameworkException fex) {
      logger.log(Level.WARNING,"Unable to convert property {0} of type {1}: {2}",new Object[]{key.name(),getClass().getSimpleName(),fex.getMessage()});
    }
  }
  if (propertyValue instanceof Comparable) {
    return (Comparable)propertyValue;
  }
  if (propertyValue != null) {
    return propertyValue.toString();
  }
  return null;
}
