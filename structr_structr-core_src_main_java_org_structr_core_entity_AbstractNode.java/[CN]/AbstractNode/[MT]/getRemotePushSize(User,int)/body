{
  Command findNode=Services.command(securityContext,FindNodeCommand.class);
  List<AbstractNode> list=((List<AbstractNode>)findNode.execute(remoteUser,this));
  int size=0;
  for (  AbstractNode node : list) {
    if (node instanceof File) {
      File file=(File)node;
      size+=(file.getSize() / chunkSize);
      size+=3;
    }
 else {
      size++;
    }
    List<StructrRelationship> rels=node.getOutgoingRelationships();
    for (    StructrRelationship r : rels) {
      if (list.contains(r.getStartNode()) && list.contains(r.getEndNode())) {
        size++;
      }
    }
  }
  return (size);
}
