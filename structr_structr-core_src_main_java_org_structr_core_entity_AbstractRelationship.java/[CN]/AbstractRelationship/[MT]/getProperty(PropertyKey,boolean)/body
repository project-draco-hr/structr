{
  Object value=applyConverter ? cachedConvertedProperties.get(key) : cachedRawProperties.get(key);
  boolean dontCache=false;
  Class type=this.getClass();
  if (value == null || !applyConverter) {
    PropertyKey startNodeIdKey=getStartNodeIdKey();
    PropertyKey endNodeIdKey=getEndNodeIdKey();
    if (startNodeIdKey != null && key.equals(startNodeIdKey)) {
      value=getStartNodeId();
      if (applyConverter) {
        cachedConvertedProperties.put(key,value);
      }
 else {
        cachedRawProperties.put(key,value);
      }
      return value;
    }
    if (endNodeIdKey != null && key.equals(endNodeIdKey)) {
      value=getEndNodeId();
      if (applyConverter) {
        cachedConvertedProperties.put(key,value);
      }
 else {
        cachedRawProperties.put(key,value);
      }
      return value;
    }
    PropertyGroup propertyGroup=EntityContext.getPropertyGroup(type,key);
    if (propertyGroup != null) {
      return propertyGroup.getGroupedProperties(this);
    }
    if (dbRelationship.hasProperty(key.name())) {
      value=dbRelationship.getProperty(key.name());
    }
    if (value == null) {
      value=key.defaultValue();
      dontCache=true;
    }
    if (applyConverter) {
      PropertyConverter converter=EntityContext.getPropertyConverter(securityContext,type,key);
      if (converter != null) {
        Value conversionValue=EntityContext.getPropertyConversionParameter(type,key);
        converter.setCurrentObject(this);
        value=converter.convertForGetter(value,conversionValue);
      }
    }
    if (!dontCache) {
      if (applyConverter) {
        cachedConvertedProperties.put(key,value);
      }
 else {
        cachedRawProperties.put(key,value);
      }
    }
  }
  return value;
}
