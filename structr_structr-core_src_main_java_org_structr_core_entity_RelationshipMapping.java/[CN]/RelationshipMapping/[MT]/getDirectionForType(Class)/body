{
  Class localType=type;
  while (localType != null && !Object.class.equals(localType)) {
    if (localType.equals(sourceType)) {
      return Direction.OUTGOING;
    }
 else     if (localType.equals(destType)) {
      return Direction.INCOMING;
    }
    for (    Class interfaceClass : EntityContext.getInterfacesForType(localType)) {
      if (interfaceClass.equals(sourceType)) {
        return Direction.OUTGOING;
      }
 else       if (interfaceClass.equals(destType)) {
        return Direction.INCOMING;
      }
    }
    localType=localType.getSuperclass();
  }
  throw new FrameworkException(HttpServletResponse.SC_BAD_REQUEST,new ErrorBuffer());
}
