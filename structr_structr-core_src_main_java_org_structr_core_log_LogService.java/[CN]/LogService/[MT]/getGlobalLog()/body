{
  if (globalLogNodeList == null) {
    globalLogNodeList=(LogNodeList)Services.command(TransactionCommand.class).execute(new StructrTransaction(){
      @Override public Object execute() throws Throwable {
        GraphDatabaseService graphDb=(GraphDatabaseService)Services.command(GraphDatabaseCommand.class).execute();
        Command factory=Services.command(NodeFactoryCommand.class);
        LogNodeList ret=null;
        if (graphDb != null) {
          AbstractNode rootNode=(AbstractNode)factory.execute(graphDb.getReferenceNode());
          if (rootNode != null) {
            for (            StructrRelationship rel : rootNode.getOutgoingChildRelationships()) {
              if (rel.getEndNode() instanceof LogNodeList) {
                return ((LogNodeList)rel.getEndNode());
              }
            }
          }
          Command createNode=Services.command(CreateNodeCommand.class);
          Command createRel=Services.command(CreateRelationshipCommand.class);
          ret=(LogNodeList<Activity>)createNode.execute(new NodeAttribute(AbstractNode.TYPE_KEY,LogNodeList.class.getSimpleName()),new NodeAttribute(AbstractNode.NAME_KEY,"Global Activity Log"));
          createRel.execute(rootNode,ret,RelType.HAS_CHILD);
        }
        return (ret);
      }
    }
);
  }
  return (globalLogNodeList);
}
