{
  TxPageFile logDb=(TxPageFile)arguments.get("logDb");
  if (logDb != null) {
    Transaction tx=logDb.tx();
    MultiIndexFactory multiIndexFactory=new MultiIndexFactory(tx);
    IndexFactory<String,Object> indexFactory=new BTreeIndexFactory<String,Object>();
    if (parameters.length == 2) {
      String userId=(String)parameters[0];
      SortedIndex<String,Object> index=(SortedIndex<String,Object>)multiIndexFactory.openOrCreate(userId,indexFactory);
      String timestamp=String.valueOf(System.nanoTime());
      String value=parameters[1].toString();
      index.put(timestamp,value);
      logger.log(Level.INFO,"Logged for user {0}: {1} {2}",new Object[]{userId,timestamp,value});
    }
 else {
      throw new IllegalArgumentException();
    }
    tx.commit();
    logDb.flush();
  }
  return null;
}
