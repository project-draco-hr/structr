{
  DefaultModule ret=new DefaultModule(resource);
  Set<String> classes=ret.getClasses();
  if (resource.endsWith(".jar") || resource.endsWith(".war")) {
    ZipFile zipFile=new ZipFile(new File(resource),ZipFile.OPEN_READ);
    for (Enumeration<? extends ZipEntry> entries=zipFile.entries(); entries.hasMoreElements(); ) {
      ZipEntry entry=entries.nextElement();
      String entryName=entry.getName();
      if (entryName.endsWith(".class")) {
        String fileEntry=entry.getName().replaceAll("[".concat(fileSepEscaped).concat("]+"),".");
        classes.add(fileEntry.substring(0,fileEntry.length() - 6));
      }
    }
    zipFile.close();
  }
 else   if (resource.endsWith(classesDir)) {
    addClassesRecursively(new File(resource),classesDir,classes);
  }
 else   if (resource.endsWith(testClassesDir)) {
    addClassesRecursively(new File(resource),testClassesDir,classes);
  }
  return ret;
}
