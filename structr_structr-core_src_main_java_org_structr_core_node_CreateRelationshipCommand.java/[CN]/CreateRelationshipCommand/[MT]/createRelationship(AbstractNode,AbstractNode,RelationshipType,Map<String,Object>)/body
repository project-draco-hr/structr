{
  return (AbstractRelationship)Services.command(securityContext,TransactionCommand.class).execute(new StructrTransaction(){
    @Override public Object execute() throws FrameworkException {
      Node startNode=fromNode.getNode();
      Node endNode=toNode.getNode();
      Relationship rel=startNode.createRelationshipTo(endNode,relType);
      AbstractRelationship newRel=relationshipFactory.createRelationship(securityContext,rel);
      newRel.setProperty(AbstractRelationship.HiddenKey.createdDate.name(),new Date());
      if (newRel != null) {
        if (properties != null && !properties.isEmpty()) {
          newRel.setProperties(properties);
        }
        for (        Transformation<GraphObject> transformation : EntityContext.getEntityCreationTransformations(newRel.getClass())) {
          transformation.apply(securityContext,newRel);
        }
      }
      return newRel;
    }
  }
);
}
