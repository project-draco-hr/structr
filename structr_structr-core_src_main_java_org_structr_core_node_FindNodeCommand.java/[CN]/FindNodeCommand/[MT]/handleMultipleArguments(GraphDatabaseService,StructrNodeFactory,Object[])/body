{
  Object result=null;
  if (parameters[0] instanceof AbstractNode && (parameters[1] instanceof XPath || parameters[1] instanceof String)) {
    AbstractNode currentNode=(AbstractNode)parameters[0];
    String path;
    if (parameters[1] instanceof XPath) {
      path=((XPath)parameters[1]).getXPath();
    }
 else {
      path=(String)parameters[1];
    }
    try {
      long id=Long.parseLong(path);
      Node node=graphDb.getNodeById(id);
      return nodeFactory.createNode(securityContext,node);
    }
 catch (    Exception ex) {
      logger.log(Level.FINE,"Node with id {0} not found in database! Reason: {1}",new Object[]{path,ex.getMessage()});
    }
    if (path.startsWith("/")) {
      currentNode=nodeFactory.createNode(securityContext,graphDb.getReferenceNode());
    }
    if (path.endsWith("*")) {
      result=TreeHelper.getNodesByPath(currentNode,path,true);
    }
 else {
      result=TreeHelper.getNodeByPath(currentNode,path,true);
    }
  }
  return result;
}
