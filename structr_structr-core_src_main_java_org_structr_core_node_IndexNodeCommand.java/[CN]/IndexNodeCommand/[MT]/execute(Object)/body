{
  GraphDatabaseService graphDb=(GraphDatabaseService)arguments.get("graphDb");
  index=(Index<Node>)arguments.get("index");
  if (graphDb != null) {
    long id=0;
    Node node=null;
    StructrNode structrNode=null;
    String key=null;
    Object value=null;
switch (parameters.length) {
case 1:
      if (parameters[0] instanceof Long) {
        id=((Long)parameters[0]).longValue();
      }
 else       if (parameters[0] instanceof String) {
        id=Long.parseLong((String)parameters[0]);
      }
 else       if (parameters[0] instanceof StructrNode) {
        structrNode=(StructrNode)parameters[0];
        id=structrNode.getId();
      }
    node=graphDb.getNodeById(id);
  indexNode(node);
break;
case 2:
if (parameters[0] instanceof Long) {
id=((Long)parameters[0]).longValue();
}
 else if (parameters[0] instanceof String) {
id=Long.parseLong((String)parameters[0]);
}
 else if (parameters[0] instanceof StructrNode) {
structrNode=(StructrNode)parameters[0];
id=structrNode.getId();
}
node=graphDb.getNodeById(id);
if (parameters[1] instanceof String) {
key=(String)parameters[1];
}
index(node,key);
break;
default :
logger.log(Level.SEVERE,"Wrong number of parameters for the index property command");
return null;
}
}
return null;
}
