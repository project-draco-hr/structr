{
  Class nodeClass=(Class)getEntityClassCommand.get().execute(nodeType);
  AbstractNode newNode=null;
  if (nodeClass != null) {
    try {
      Constructor constructor=constructors.get(nodeClass);
      if (constructor == null) {
        constructor=nodeClass.getConstructor();
        constructors.put(nodeClass,constructor);
      }
      newNode=(AbstractNode)constructor.newInstance();
    }
 catch (    Throwable t) {
      newNode=null;
    }
  }
  if (newNode == null) {
    newNode=new GenericNode();
  }
  newNode.init(securityContext,node);
  newNode.onNodeInstantiation();
  if (securityContext.isReadable(newNode,includeDeletedAndHidden,publicOnly)) {
    return newNode;
  }
  return null;
}
