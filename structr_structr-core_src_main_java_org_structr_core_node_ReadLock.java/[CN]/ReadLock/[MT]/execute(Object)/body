{
  AbstractNode node=null;
  Command findNode=Services.command(securityContext,FindNodeCommand.class);
switch (parameters.length) {
case 1:
    if (parameters[0] instanceof Long) {
      long id=((Long)parameters[0]).longValue();
      node=(AbstractNode)findNode.execute(id);
    }
 else     if (parameters[0] instanceof AbstractNode) {
      node=((AbstractNode)parameters[0]);
    }
 else     if (parameters[0] instanceof String) {
      long id=Long.parseLong((String)parameters[0]);
      node=(AbstractNode)findNode.execute(id);
    }
  break;
default :
break;
}
if (node == null) {
logger.log(Level.WARNING,"Could not lock node null");
return null;
}
if (node.getId() == 0) {
logger.log(Level.WARNING,"Locking the root node is not allowed.");
return null;
}
return doLockNode(node);
}
