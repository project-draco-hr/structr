{
  List<AbstractNode> nodes=new LinkedList<AbstractNode>();
  if (input != null && input.iterator().hasNext()) {
    for (    Node node : input) {
      AbstractNode n=createNode(node);
      if ((user == null || n.readAllowed()) && (includeDeleted || !(n.isDeleted())) && (!publicOnly || n.isPublic())) {
        nodes.add(n);
      }
    }
  }
  return nodes;
}
