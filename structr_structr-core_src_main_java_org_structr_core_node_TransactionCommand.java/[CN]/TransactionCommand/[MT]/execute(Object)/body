{
  StringBuilder buffer=new StringBuilder();
  buffer.append("BEGIN   ");
  Object ret=null;
  GraphDatabaseService graphDb=(GraphDatabaseService)arguments.get("graphDb");
  if (parameters.length > 0 && parameters[0] instanceof StructrTransaction) {
    StructrTransaction transaction=(StructrTransaction)parameters[0];
    if (graphDb != null) {
      Transaction tx=graphDb.beginTx();
      try {
        ret=transaction.execute();
        tx.success();
        buffer.append("SUCCESS ");
      }
 catch (      Throwable t) {
        transaction.setCause(t);
        tx.failure();
        buffer.append("FAILURE ");
      }
 finally {
        try {
          tx.finish();
        }
 catch (        Throwable t) {
        }
        buffer.append("FINISHED");
      }
    }
  }
 else   if (parameters.length > 0 && parameters[0] instanceof BatchTransaction) {
    BatchTransaction transaction=(BatchTransaction)parameters[0];
    Transaction tx=graphDb.beginTx();
    try {
      ret=transaction.execute(tx);
      tx.success();
      buffer.append("SUCCESS ");
    }
 catch (    Throwable t) {
      transaction.setCause(t);
      tx.failure();
      buffer.append("FAILURE ");
    }
 finally {
      try {
        tx.finish();
      }
 catch (      Throwable t) {
      }
      buffer.append("FINISHED");
    }
  }
  System.out.println("########## " + StringUtils.leftPad(this.hashCode() + "",10) + " "+ buffer.toString());
  return ret;
}
