{
  GraphDatabaseService graphDb=(GraphDatabaseService)arguments.get("graphDb");
  NodeFactory nodeFactory=(NodeFactory)arguments.get("nodeFactory");
  if (graphDb != null) {
    Index<Node> index=(Index<Node>)arguments.get(whichIndex.name());
    IndexHits hits=index.query(query.toString());
    List<AbstractNode> nodes=nodeFactory.createNodes(securityContext,hits);
    hits.close();
    Collections.sort(nodes);
    return nodes;
  }
  return Collections.emptyList();
}
