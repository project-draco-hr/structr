{
  if ((parameters == null) || (parameters.length != 5)) {
    logger.log(Level.WARNING,"Exactly 5 parameters are required for advanced search.");
    return Collections.emptyList();
  }
  User user=null;
  if (parameters[0] instanceof User) {
    user=(User)parameters[0];
  }
  AbstractNode topNode=null;
  if (parameters[1] instanceof AbstractNode) {
    topNode=(AbstractNode)parameters[1];
  }
  boolean includeDeleted=false;
  if (parameters[2] instanceof Boolean) {
    includeDeleted=(Boolean)parameters[2];
  }
  boolean publicOnly=false;
  if (parameters[3] instanceof Boolean) {
    publicOnly=(Boolean)parameters[3];
  }
  List<SearchAttribute> searchAttrs=new LinkedList<SearchAttribute>();
  if (parameters[4] instanceof List) {
    searchAttrs=(List<SearchAttribute>)parameters[4];
  }
  for (int i=4; i < parameters.length; i++) {
    Object o=parameters[i];
    if (o instanceof SearchAttribute) {
      searchAttrs.add((SearchAttribute)o);
    }
  }
  return search(user,topNode,includeDeleted,publicOnly,searchAttrs);
}
