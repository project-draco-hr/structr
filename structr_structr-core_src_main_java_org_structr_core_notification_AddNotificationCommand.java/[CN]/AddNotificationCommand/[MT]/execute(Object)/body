{
  Notification notification=null;
  String sessionKey=null;
switch (parameters.length) {
case 2:
    if (parameters[1] instanceof String) {
      sessionKey=(String)parameters[1];
    }
case 1:
  if (parameters[0] instanceof Notification) {
    notification=(Notification)parameters[0];
  }
}
if (sessionKey == null) {
HttpSession session=CurrentSession.getSession();
if (session != null) {
  sessionKey=session.getId();
}
 else {
  sessionKey=Thread.currentThread().getName();
}
}
if (notification != null && sessionKey != null) {
NotificationService service=(NotificationService)getArgument("service");
service.addNotification(sessionKey,notification);
}
return (null);
}
