{
  this.gsonAdapter=new GraphObjectGSONAdapter();
  this.constraints=new LinkedHashMap<Pattern,Class>();
  this.gson=new GsonBuilder().setPrettyPrinting().registerTypeAdapter(AbstractNode.class,new AbstractNodeGSONAdapter()).registerTypeAdapter(GraphObject.class,gsonAdapter).create();
  constraints.put(Pattern.compile("[0-9]+"),IdConstraint.class);
  constraints.put(Pattern.compile("out"),RelationshipConstraint.class);
  constraints.put(Pattern.compile("in"),RelationshipConstraint.class);
  constraints.put(Pattern.compile("start"),RelationshipNodeConstraint.class);
  constraints.put(Pattern.compile("end"),RelationshipNodeConstraint.class);
  constraints.put(Pattern.compile("[a-z_]+"),TypeConstraint.class);
}
