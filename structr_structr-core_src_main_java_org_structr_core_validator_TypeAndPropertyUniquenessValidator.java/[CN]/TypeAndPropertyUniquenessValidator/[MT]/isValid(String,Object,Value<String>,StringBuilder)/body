{
  if (value == null || (value != null && value.toString().length() == 0)) {
    errorBuffer.append("Property '");
    errorBuffer.append(key);
    errorBuffer.append("' must not be empty.");
    return false;
  }
  if (key != null && value != null && parameter != null) {
    if (!(value instanceof String)) {
      return false;
    }
    String type=parameter.get();
    String stringValue=(String)value;
    AbstractNode topNode=null;
    Boolean includeDeleted=false;
    Boolean publicOnly=false;
    List<SearchAttribute> attributes=new LinkedList<SearchAttribute>();
    attributes.add(new TextualSearchAttribute(AbstractNode.Key.type.name(),type,SearchOperator.AND));
    attributes.add(new TextualSearchAttribute(key,stringValue,SearchOperator.AND));
    List<AbstractNode> resultList=(List<AbstractNode>)Services.command(SecurityContext.getSuperUserInstance(),SearchNodeCommand.class).execute(topNode,includeDeleted,publicOnly,attributes);
    if (!resultList.isEmpty()) {
      errorBuffer.append("A node with value '");
      errorBuffer.append(value);
      errorBuffer.append("' for property '");
      errorBuffer.append(key);
      errorBuffer.append("' already exists.");
      return false;
    }
 else {
      return true;
    }
  }
  return false;
}
