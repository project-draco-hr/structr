{
  List<GraphObject> results=typedIdConstraint.doGet(listeners);
  if (results != null) {
    String sourceType=typedIdConstraint.getTypeConstraint().getType();
    String targetType=typeConstraint.getType();
    DirectedRelationship staticRel=EntityContext.getRelation(sourceType,targetType);
    if (staticRel != null) {
      LinkedList<GraphObject> transformedResults=new LinkedList<GraphObject>();
      for (      GraphObject obj : results) {
        List<StructrRelationship> rels=obj.getRelationships(staticRel.getRelType(),staticRel.getDirection());
        if (staticRel.getDirection().equals(Direction.INCOMING)) {
          for (          StructrRelationship rel : rels) {
            transformedResults.add(rel.getStartNode());
          }
        }
 else {
          for (          StructrRelationship rel : rels) {
            transformedResults.add(rel.getEndNode());
          }
        }
      }
      return transformedResults;
    }
  }
  throw new IllegalPathException();
}
