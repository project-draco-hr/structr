{
  boolean test=false;
  boolean importShapefile=false;
  boolean geocode=false;
  boolean linkCountries=false;
  String dbPath=null;
  String file=null;
  String type=null;
  String layer=null;
  System.out.println("Geodata tool started.");
  System.out.print("Parsing command line arguments ...");
  for (int k=0; k < args.length; k++) {
    String arg=args[k];
    if ("-t".equals(arg)) {
      test=true;
    }
 else     if ("-importShapefile".equals(arg)) {
      importShapefile=true;
    }
 else     if ("-linkCountries".equals(arg)) {
      linkCountries=true;
    }
 else     if ("-geocode".equals(arg)) {
      geocode=true;
    }
 else     if ("-layer".equals(arg)) {
      layer=args[++k];
    }
 else     if ("-type".equals(arg)) {
      type=args[++k];
    }
 else     if ("-dbPath".equals(arg)) {
      dbPath=args[++k];
    }
 else     if ("-file".equals(arg)) {
      file=args[++k];
    }
  }
  System.out.println("done.");
  if (dbPath == null) {
    System.out.println("Argument -dbPath missing!");
    System.exit(0);
  }
  GeoDataTool adminTool=new GeoDataTool(dbPath,file);
  Transaction tx=graphDb.beginTx();
  try {
    if (importShapefile) {
      System.out.println("Importing shapefile ...");
      adminTool.importShapefile(test,file,layer);
    }
 else     if (geocode) {
      System.out.println("Starting geocoding ...");
      adminTool.geocode(tx,test,type);
    }
 else     if (linkCountries) {
      System.out.println("Linking countries to regions ...");
      adminTool.linkCountries(test);
    }
    tx.success();
  }
  finally {
    tx.finish();
  }
  shutdown();
  System.out.println("Geodata tool finished.");
}
