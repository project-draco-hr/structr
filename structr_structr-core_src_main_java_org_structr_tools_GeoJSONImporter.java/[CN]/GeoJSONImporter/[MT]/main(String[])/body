{
  String neoPath;
  String jsonPath;
  String layerName;
  int commitInterval=1000;
  if (args.length < 2 || args.length > 4) {
    throw new IllegalArgumentException("Parameters: neo4jDirectory geojsonfile [layerName commitInterval]");
  }
  neoPath=args[0];
  jsonPath=args[1];
  jsonPath=jsonPath.substring(0,jsonPath.lastIndexOf("."));
  if (args.length == 2) {
    layerName=jsonPath.substring(jsonPath.lastIndexOf(File.separator) + 1);
  }
 else   if (args.length == 3) {
    layerName=args[2];
  }
 else {
    layerName=args[2];
    commitInterval=Integer.parseInt(args[3]);
  }
  GraphDatabaseService database=new EmbeddedGraphDatabase(neoPath);
  try {
    GeoJSONImporter importer=new GeoJSONImporter(database,new NullListener(),commitInterval);
    importer.importFile(jsonPath,layerName);
  }
  finally {
    database.shutdown();
  }
}
