{
  if (nodeIdOrPath != null) {
    if (nodeIdOrPath instanceof String) {
      String nodeIdString=(String)nodeIdOrPath;
      try {
        if (nodeIdString.startsWith("/")) {
          AbstractNode byPathNode=TreeHelper.getNodeByPath(getRootNode(),nodeIdString,true);
          if (byPathNode != null) {
            return byPathNode;
          }
          String byNumber=StringUtils.remove(nodeIdString,"/");
          AbstractNode byNumberNode=getNodeById(Long.parseLong(byNumber));
          if (byNumberNode != null) {
            return byNumberNode;
          }
        }
        return getNodeById(Long.parseLong((String)nodeIdOrPath));
      }
 catch (      NumberFormatException e) {
        logger.log(Level.FINE,"Could not parse {0} to number",nodeIdOrPath);
        return null;
      }
    }
 else     if (nodeIdOrPath instanceof Long) {
      return getNodeById((Long)nodeIdOrPath);
    }
 else {
      logger.log(Level.WARNING,"Node requested by unknown object: {0}",nodeIdOrPath);
      return null;
    }
  }
 else {
    return null;
  }
}
