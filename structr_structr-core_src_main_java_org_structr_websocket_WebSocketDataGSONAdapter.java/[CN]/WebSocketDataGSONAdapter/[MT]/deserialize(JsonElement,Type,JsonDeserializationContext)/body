{
  WebSocketMessage webSocketData=new WebSocketMessage();
  if (json instanceof JsonObject) {
    JsonObject root=json.getAsJsonObject();
    JsonObject data=root.getAsJsonObject("data");
    if (root.has("command")) {
      webSocketData.setCommand(root.getAsJsonPrimitive("command").getAsString());
    }
    if (root.has("id")) {
      webSocketData.setId(root.getAsJsonPrimitive("id").getAsString());
    }
    if (root.has("callback")) {
      webSocketData.setCallback(root.getAsJsonPrimitive("callback").getAsString());
    }
    if (root.has("button")) {
      webSocketData.setButton(root.getAsJsonPrimitive("button").getAsString());
    }
    if (root.has("parent")) {
      webSocketData.setParent(root.getAsJsonPrimitive("parent").getAsString());
    }
    if (root.has("view")) {
      webSocketData.setView(root.getAsJsonPrimitive("view").getAsString());
    }
    if (root.has("sort")) {
      webSocketData.setSortKey(root.getAsJsonPrimitive("sort").getAsString());
    }
    if (root.has("order")) {
      webSocketData.setSortOrder(root.getAsJsonPrimitive("order").getAsString());
    }
    if (root.has("pageSize")) {
      webSocketData.setPageSize(root.getAsJsonPrimitive("pageSize").getAsInt());
    }
    if (root.has("page")) {
      webSocketData.setPage(root.getAsJsonPrimitive("page").getAsInt());
    }
    if (data != null) {
      for (      Entry<String,JsonElement> entry : data.entrySet()) {
        webSocketData.setData(entry.getKey(),entry.getValue().getAsString());
      }
    }
  }
  return webSocketData;
}
