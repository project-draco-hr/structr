{
  try {
    CsvServlet structrRestServlet=new CsvServlet(DefaultResourceProvider.class.newInstance(),PropertyView.All,AbstractNode.uuid);
    ServletHolder csvServletHolder=new ServletHolder(structrRestServlet);
    Map<String,String> servletParams=new HashMap<String,String>();
    servletParams.put("PropertyFormat","FlatNameValue");
    servletParams.put("Authenticator",DefaultAuthenticator.class.getName());
    csvServletHolder.setInitParameters(servletParams);
    csvServletHolder.setInitOrder(0);
    Structr.createServer(CrudServer.class,"structr CRUD",8182).addServlet("/structr/csv/*",csvServletHolder).addResourceHandler("/structr","src/main/resources/",false,new String[]{"index.html"}).enableRewriteFilter().start(true);
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
}
