{
  if (isVisible(user)) {
    if (hasTemplate(user)) {
      String html=template.getContent();
      if (StringUtils.isNotBlank(html)) {
        init();
        for (        AbstractNode container : getSortedDirectChildren(RelType.DATA,user)) {
          List<AbstractNode> nodes=container.getDirectChildNodes(user);
          Collections.sort(nodes,new AbstractNodeComparator(toGetter(sortKey),sortOrder));
          int toIndex=Math.min(pageNo * pageSize,nodes.size());
          int fromIndex=Math.min(Math.max(pageNo - 1,0) * pageSize,toIndex);
          for (          AbstractNode node : nodes.subList(fromIndex,toIndex)) {
            doRendering(out,this,node,editUrl,editNodeId,user);
          }
        }
      }
 else {
        logger.log(Level.WARNING,"No template!");
      }
    }
  }
 else {
    logger.log(Level.WARNING,"Node not visible");
  }
}
