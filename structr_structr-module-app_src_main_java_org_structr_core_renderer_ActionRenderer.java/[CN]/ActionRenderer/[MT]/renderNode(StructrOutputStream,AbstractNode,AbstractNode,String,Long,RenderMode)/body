{
  List<AbstractNode> children=currentNode.getSortedDirectChildNodes();
  boolean executionSuccessful=true;
  for (  AbstractNode n : children) {
    if (n instanceof ActionNode) {
      ActionNode actionNode=(ActionNode)n;
      actionNode.initialize(out.getRequest());
      if (!actionNode.doAction(out,startNode,editUrl,editNodeId)) {
        executionSuccessful=false;
        break;
      }
    }
  }
  if (executionSuccessful) {
    AbstractNode successTarget=getSuccessTarget(currentNode);
    if (successTarget != null) {
      RequestHelper.redirect(out.getRequest(),out.getResponse(),currentNode,successTarget);
    }
  }
 else {
    AbstractNode failureTarget=getFailureTarget(currentNode);
    if (failureTarget != null) {
      RequestHelper.redirect(out.getRequest(),out.getResponse(),currentNode,failureTarget);
    }
  }
}
