{
  if (rootNode != null && depth < maxDepth) {
    Iterable<AbstractNode> iterable=rootNode.getDataNodes();
    if (iterable != null) {
      Iterator<AbstractNode> iter=iterable.iterator();
      if (iter.hasNext()) {
        for (        AbstractNode dataNode : iterable) {
          collectDataNodes(dataNode,nodesToRender,depth + 1,maxDepth);
        }
      }
 else {
        nodesToRender.add(rootNode);
      }
    }
 else {
      nodesToRender.add(rootNode);
    }
  }
}
