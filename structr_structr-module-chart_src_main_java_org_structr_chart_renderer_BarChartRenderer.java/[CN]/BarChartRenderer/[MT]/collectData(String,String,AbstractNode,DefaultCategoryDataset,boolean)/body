{
  Object categoryProperty=startNode.getProperty(categoryPropertyName);
  Object valueProperty=startNode.getProperty(valuePropertyName);
  String categoryValue=categoryPropertyName;
  String valueValue=valuePropertyName;
  if (categoryProperty != null) {
    categoryValue=categoryProperty.toString();
  }
  if (valueProperty != null) {
    valueValue=valueProperty.toString();
  }
  incrementValue(dataSet,categoryValue,valueValue);
  if (recursive) {
    for (    AbstractNode child : startNode.getDirectChildNodes()) {
      collectData(categoryPropertyName,valuePropertyName,child,dataSet,recursive);
    }
  }
}
