{
  SecurityContext securityContext=out.getSecurityContext();
  if (securityContext.isVisible(currentNode)) {
    if (currentNode instanceof WebNode) {
      WebNode webNode=(WebNode)currentNode;
      HomePage homepage=webNode.getHomePage();
      if (homepage == null) {
        out.append("No home page found for ").append(currentNode.getName());
      }
 else {
        homepage.renderNode(out,homepage,editUrl,editNodeId);
      }
    }
  }
}
