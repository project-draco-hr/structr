{
  super.onInit();
  page=(Page)node;
  if (page == null) {
    return;
  }
  externalViewUrl=node.getNodeURL(contextPath);
  localViewUrl=getContext().getRequest().getContextPath().concat("/view".concat(node.getNodePath().replace("&","%26")));
  StringBuilder out=new StringBuilder();
  node.renderView(out,node,null,null);
  rendition=out.toString();
  source=ClickUtils.escapeHtml(rendition);
  renditionPanel=new Panel("renditionPanel","/panel/rendition-panel.htm");
}
