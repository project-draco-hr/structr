{
  super.onRender();
  AbstractNode s=getNodeByIdOrPath(getNodeId());
  if (editContentForm.isValid()) {
    editContentForm.copyFrom(s);
  }
  String mimeType=s.getContentType();
  if (mimeType != null && mimeType.indexOf('/') > 0) {
    textType=mimeType.split("/")[1];
  }
  if (editContentForm.isValid()) {
    editContentForm.add(new HiddenField(NODE_ID_KEY,nodeId != null ? nodeId : ""));
    editContentForm.add(new HiddenField(RENDER_MODE_KEY,renderMode != null ? renderMode : ""));
  }
}
