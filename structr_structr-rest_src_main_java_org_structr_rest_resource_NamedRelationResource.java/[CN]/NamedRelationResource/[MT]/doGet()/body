{
  List<GraphObject> relationResults=new LinkedList<GraphObject>();
  if (wrappedResource != null) {
    List<? extends GraphObject> results=wrappedResource.doGet();
    for (    GraphObject obj : results) {
      relationResults.addAll(namedRelation.getRelationships(obj));
    }
  }
 else {
    List<SearchAttribute> searchAttributes=new LinkedList<SearchAttribute>();
    searchAttributes.add(Search.andExactRelType(namedRelation));
    relationResults.addAll((List<AbstractRelationship>)Services.command(securityContext,SearchRelationshipCommand.class).execute(searchAttributes));
  }
  return relationResults;
}
