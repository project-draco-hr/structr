{
  if (pageSize <= 0) {
    return result;
  }
  if (page < 1) {
    page=1;
  }
  if (pageSize > 0) {
    int pageCount=getPageCount(result.getRawResultCount(),pageSize);
    if (pageCount > 0) {
      result.setPageCount(pageCount);
    }
    if (page > pageCount) {
      page=pageCount;
    }
    result.setPage(page);
    result.setPageSize(pageSize);
  }
  return new Result(subList(result.getResults(),pageSize,page),result.getResults().size(),result.isCollection(),result.isPrimitiveArray());
}
