{
  List<SearchAttribute> searchAttributes=Collections.emptyList();
  if (type != null && request != null && !request.getParameterMap().isEmpty()) {
    final boolean looseSearch=parseInteger(request.getParameter(JsonRestServlet.REQUEST_PARAMETER_LOOSE_SEARCH)) == 1;
    final Set<PropertyKey> searchableProperties=getSearchableProperties(type,looseSearch,fulltextIndex,keywordIndex);
    searchAttributes=checkAndAssembleSearchAttributes(securityContext,request,looseSearch,searchableProperties);
  }
  return searchAttributes;
}
