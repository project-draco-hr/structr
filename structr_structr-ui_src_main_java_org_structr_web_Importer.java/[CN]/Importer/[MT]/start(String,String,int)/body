{
  logger.log(Level.INFO,"##### Start fetching {0} for resource {1} #####",new Object[]{address,name});
  SecurityContext securityContext=SecurityContext.getSuperUserInstance();
  searchNode=Services.command(securityContext,SearchNodeCommand.class);
  createNode=Services.command(securityContext,CreateNodeCommand.class);
  createRel=Services.command(securityContext,CreateRelationshipCommand.class);
  final Document page;
  try {
    page=Jsoup.parse(new URL(address),timeout);
  }
 catch (  IOException ioe) {
    throw new FrameworkException(500,"Error while importing content from " + address);
  }
  final URL baseUrl;
  try {
    baseUrl=new URL(address);
    Services.command(SecurityContext.getSuperUserInstance(),TransactionCommand.class).execute(new StructrTransaction(){
      @Override public Object execute() throws FrameworkException {
        List<NodeAttribute> attrs=new LinkedList<NodeAttribute>();
        attrs.add(new NodeAttribute("type","Resource"));
        attrs.add(new NodeAttribute("name",name));
        AbstractNode page1=findOrCreateNode("Resource",attrs,"/");
        createChildNodes(page,page1,page1.getStringProperty(AbstractNode.Key.uuid),baseUrl);
        return null;
      }
    }
);
  }
 catch (  MalformedURLException ex) {
    logger.log(Level.SEVERE,"Could not resolve address " + address,ex);
  }
  logger.log(Level.INFO,"##### Finished fetching {0} for resource {1} #####",new Object[]{address,name});
}
