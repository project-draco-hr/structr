{
  Command createRel=Services.command(securityContext,CreateRelationshipCommand.class);
  for (  AbstractRelationship in : origNode.getIncomingRelationships()) {
    AbstractNode startNode=in.getStartNode();
    RelationshipType origRelType=in.getRelType();
    if (!(relType.name().equals(origRelType.name()))) {
      continue;
    }
    AbstractRelationship newInRel=(AbstractRelationship)createRel.execute(startNode,cloneNode,relType,in.getProperties(),false);
    if ((componentId != null) && !(cloneNode.getStringProperty(AbstractNode.Key.uuid).equals(componentId))) {
      newInRel.setProperty(Component.Key.componentId,componentId);
    }
    if (pageId != null) {
      newInRel.setProperty(Component.Key.pageId,pageId);
      newInRel.setProperty(pageId,position);
    }
  }
}
