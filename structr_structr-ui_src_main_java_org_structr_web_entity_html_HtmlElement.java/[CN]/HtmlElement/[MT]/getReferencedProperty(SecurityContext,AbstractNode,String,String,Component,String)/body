{
  AbstractNode node=startNode;
  String[] parts=refKey.split("[\\.]+");
  String referenceKey=parts[parts.length - 1];
  for (int i=0; (i < parts.length) && (node != null); i++) {
    String part=parts[i];
    if ("component".equals(part.toLowerCase())) {
      node=getNodeById(securityContext,componentId);
      continue;
    }
    if ("resource".equals(part.toLowerCase())) {
      node=getNodeById(securityContext,resourceId);
      continue;
    }
    if ("link".equals(part.toLowerCase())) {
      for (      AbstractRelationship rel : node.getRelationships(RelType.LINK,Direction.OUTGOING)) {
        node=rel.getEndNode();
        break;
      }
      continue;
    }
    if ("parent".equals(part.toLowerCase())) {
      for (      AbstractRelationship rel : node.getRelationships(RelType.CONTAINS,Direction.INCOMING)) {
        node=rel.getStartNode();
        break;
      }
      continue;
    }
    if ("owner".equals(part.toLowerCase())) {
      for (      AbstractRelationship rel : node.getRelationships(RelType.OWNS,Direction.INCOMING)) {
        node=rel.getStartNode();
        break;
      }
      continue;
    }
    if ("data".equals(part.toLowerCase())) {
      node=viewComponent;
      continue;
    }
  }
  if (node != null) {
    return node.getProperty(referenceKey);
  }
  return null;
}
