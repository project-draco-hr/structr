{
  java.lang.Object rawValue=super.getProperty(key);
  String value=null;
  if ((rawValue != null) && (rawValue instanceof String)) {
    value=(String)rawValue;
    Matcher matcher=templatePattern.matcher(value);
    while (matcher.find()) {
      String group=matcher.group();
      String refKey=group.substring(2,group.length() - 1);
      boolean md5=false;
      if (refKey.startsWith("md5(") && refKey.endsWith(")")) {
        refKey=StringUtils.stripStart(refKey,"md5(");
        refKey=StringUtils.stripEnd(refKey,")");
        md5=true;
      }
      String partValue=convertValueForHtml(getReferencedProperty(securityContext,this,resourceId,componentId,refKey));
      if (md5) {
        Method function=functions.get("md5");
        try {
          partValue=(String)function.invoke(HtmlElement.class,partValue);
        }
 catch (        IllegalAccessException ex) {
          Logger.getLogger(HtmlElement.class.getName()).log(Level.SEVERE,null,ex);
        }
catch (        IllegalArgumentException ex) {
          Logger.getLogger(HtmlElement.class.getName()).log(Level.SEVERE,null,ex);
        }
catch (        InvocationTargetException ex) {
          Logger.getLogger(HtmlElement.class.getName()).log(Level.SEVERE,null,ex);
        }
      }
      if (partValue != null) {
        value=value.replace(group,partValue);
      }
    }
  }
  return value;
}
