{
  if (uuidResource != null) {
    throw new IllegalPathException();
  }
  List<? extends GraphObject> templates=doGet(null,false,-1,-1).getResults();
  if (parentResults) {
    return super.doPost(propertySet);
  }
 else   if (!templates.isEmpty()) {
    String surroundingComponentId=null;
    if ((wrappedResource != null) && (wrappedResource instanceof UuidResource)) {
      surroundingComponentId=((UuidResource)wrappedResource).getUuid();
    }
 else     if (!nestedResources.isEmpty()) {
      DynamicTypeResource nested=nestedResources.get(nestedResources.size() - 1);
      if (nested.uuidResource != null) {
        surroundingComponentId=nested.uuidResource.getUuid();
      }
    }
    Component newComponent=duplicateComponent(securityContext,propertySet,rawType,surroundingComponentId);
    RestMethodResult result=new RestMethodResult(201);
    if (newComponent != null) {
      result.addHeader("Location",buildLocationHeader(newComponent));
    }
    return result;
  }
 else {
    return super.doPost(propertySet);
  }
}
