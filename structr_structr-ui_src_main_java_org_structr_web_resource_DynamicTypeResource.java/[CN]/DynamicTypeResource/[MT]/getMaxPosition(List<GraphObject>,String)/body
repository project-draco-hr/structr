{
  long pos=0;
  for (  GraphObject template : templates) {
    if (template instanceof Component) {
      Component component=(Component)template;
      List<AbstractRelationship> rels=component.getRelationships(RelType.CONTAINS,Direction.INCOMING);
      for (      AbstractRelationship rel : rels) {
        Long p=rel.getLongProperty(pageId);
        pos=Math.max(pos,(p == null ? 0 : p));
      }
    }
  }
  return pos;
}
