{
  if (next instanceof DynamicTypeResource) {
    DynamicTypeResource dynamicTypeResource=(DynamicTypeResource)next;
    SearchAttributeGroup group=new SearchAttributeGroup(SearchOperator.AND);
    group.add(Search.orExactType(org.structr.web.entity.Resource.class.getSimpleName()));
    List<SearchAttribute> searchAttrs=new LinkedList<SearchAttribute>();
    searchAttrs.add(Search.andExactName(resourceName));
    searchAttrs.add(group);
    List<AbstractNode> results=(List<AbstractNode>)Services.command(SecurityContext.getSuperUserInstance(),SearchNodeCommand.class).execute(null,false,false,searchAttrs);
    if (!results.isEmpty()) {
      AbstractNode node=results.get(0);
      String uuid=node.getStringProperty(AbstractNode.Key.uuid);
      dynamicTypeResource.setResourceId(uuid);
      return dynamicTypeResource;
    }
  }
  return null;
}
