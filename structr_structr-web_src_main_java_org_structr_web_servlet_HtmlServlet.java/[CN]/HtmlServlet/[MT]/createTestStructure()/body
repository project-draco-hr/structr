{
  Services.command(SecurityContext.getSuperUserInstance(),TransactionCommand.class).execute(new StructrTransaction(){
    @Override public Object execute() throws Throwable {
      logger.log(Level.INFO,"Creating test structure..");
      AbstractNode page1=createNode("Resource","page1");
      AbstractNode page2=createNode("Resource","page2");
      logger.log(Level.INFO,"Created page1 with id {0}, page2 with id {1}",new Object[]{page1.getId(),page2.getId()});
      AbstractNode doc=createNode("Element","doc");
      AbstractNode body=createNode("Element","body");
      AbstractNode article1=createNode("Element","article1");
      AbstractNode article2=createNode("Element","article2");
      AbstractNode header=createNode("Content","header",new NodeAttribute("content","<html>"));
      AbstractNode startBody=createNode("Content","start_body",new NodeAttribute("content","<body>"));
      AbstractNode endBody=createNode("Content","end_body",new NodeAttribute("content","</body>"));
      AbstractNode footer=createNode("Content","footer",new NodeAttribute("content","</html>"));
      AbstractNode foo=createNode("Content","content1",new NodeAttribute("content","<h1>Dies ist Seite 1</h1>"));
      AbstractNode bar=createNode("Content","content2",new NodeAttribute("content","<h1>Dies ist Seite 2</h1>"));
      String idOfPage1=page1.getIdString();
      String idOfPage2=page2.getIdString();
      linkNodes(page1,doc,idOfPage1,0);
      linkNodes(doc,header,idOfPage1,0);
      linkNodes(doc,body,idOfPage1,1);
      linkNodes(doc,footer,idOfPage1,2);
      linkNodes(body,startBody,idOfPage1,0);
      linkNodes(body,article1,idOfPage1,1);
      linkNodes(body,endBody,idOfPage1,2);
      linkNodes(article1,foo,idOfPage1,0);
      linkNodes(page2,doc,idOfPage2,0);
      linkNodes(doc,header,idOfPage2,0);
      linkNodes(doc,body,idOfPage2,1);
      linkNodes(doc,footer,idOfPage2,2);
      linkNodes(body,startBody,idOfPage2,0);
      linkNodes(body,article2,idOfPage2,1);
      linkNodes(body,endBody,idOfPage2,2);
      linkNodes(article2,bar,idOfPage2,0);
      return null;
    }
  }
);
}
