{
  Services.command(SecurityContext.getSuperUserInstance(),TransactionCommand.class).execute(new StructrTransaction(){
    @Override public Object execute() throws Throwable {
      logger.log(Level.INFO,"Creating test structure..");
      AbstractNode page1=createNode("Resource","page1");
      AbstractNode page2=createNode("Resource","page2");
      logger.log(Level.INFO,"Created page1 with id {0}, page2 with id {1}",new Object[]{page1.getId(),page2.getId()});
      AbstractNode doc=createNode("Element","doc",new NodeAttribute("tag","html"));
      AbstractNode body=createNode("Element","body",new NodeAttribute("tag","body"));
      AbstractNode article1=createNode("Element","article1",new NodeAttribute("tag","div"));
      AbstractNode article2=createNode("Element","article2",new NodeAttribute("tag","div"));
      AbstractNode header=createNode("Content","header",new NodeAttribute("tag","head"));
      AbstractNode foo=createNode("Content","content1",new NodeAttribute("content","Dies ist Seite 1"),new NodeAttribute("tag","h1"));
      AbstractNode bar=createNode("Content","content2",new NodeAttribute("content","Dies ist Seite 2"),new NodeAttribute("tag","h1"));
      String content="Inhalt...";
      AbstractNode foo2=createNode("Content","content3",new NodeAttribute("content",content),new NodeAttribute("tag","div"));
      String idOfPage1=page1.getIdString();
      String idOfPage2=page2.getIdString();
      linkNodes(page1,doc,idOfPage1,0);
      linkNodes(doc,header,idOfPage1,0);
      linkNodes(doc,body,idOfPage1,1);
      linkNodes(body,article1,idOfPage1,1);
      linkNodes(article1,foo,idOfPage1,0);
      linkNodes(article1,foo2,idOfPage1,1);
      linkNodes(page2,doc,idOfPage2,0);
      linkNodes(doc,header,idOfPage2,0);
      linkNodes(doc,body,idOfPage2,1);
      linkNodes(body,article2,idOfPage2,1);
      linkNodes(article2,bar,idOfPage2,0);
      return null;
    }
  }
);
}
