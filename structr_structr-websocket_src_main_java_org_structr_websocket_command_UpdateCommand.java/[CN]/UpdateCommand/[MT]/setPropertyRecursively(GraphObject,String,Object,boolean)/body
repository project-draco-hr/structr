{
  try {
    obj.setProperty(obj.getPropertyKeyForName(key),value);
    if (rec) {
      if (obj instanceof AbstractNode) {
        AbstractNode node=(AbstractNode)obj;
        for (        AbstractRelationship rel : node.getOutgoingRelationships(RelType.CONTAINS)) {
          AbstractNode endNode=rel.getEndNode();
          if (endNode != null) {
            setPropertyRecursively(endNode,key,value,rec);
          }
        }
      }
    }
  }
 catch (  FrameworkException fex) {
    fex.printStackTrace();
  }
}
